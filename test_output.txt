[INFO] Scanning for projects...
[INFO] 
[INFO] ----------------------< com.economato:inventory >-----------------------
[INFO] Building inventory 1.3-RELEASE
[INFO]   from pom.xml
[INFO] --------------------------------[ jar ]---------------------------------
[WARNING] The artifact com.itextpdf:itext7-core:pom:8.0.5 has been relocated to com.itextpdf:itext-core:pom:8.0.5
[INFO] 
[INFO] --- jacoco:0.8.12:prepare-agent (prepare-agent) @ inventory ---
[INFO] argLine set to -javaagent:/home/franchu/.m2/repository/org/jacoco/org.jacoco.agent/0.8.12/org.jacoco.agent-0.8.12-runtime.jar=destfile=/home/franchu/Escritorio/Cosas/turing/target/jacoco.exec
[INFO] 
[INFO] --- resources:3.3.1:resources (default-resources) @ inventory ---
[INFO] Copying 1 resource from src/main/resources to target/classes
[INFO] Copying 2 resources from src/main/resources to target/classes
[INFO] 
[INFO] --- compiler:3.13.0:compile (default-compile) @ inventory ---
[INFO] Nothing to compile - all classes are up to date.
[INFO] 
[INFO] --- resources:3.3.1:testResources (default-testResources) @ inventory ---
[INFO] Copying 1 resource from src/test/resources to target/test-classes
[INFO] 
[INFO] --- compiler:3.13.0:testCompile (default-testCompile) @ inventory ---
[INFO] Nothing to compile - all classes are up to date.
[INFO] 
[INFO] --- surefire:3.5.2:test (default-test) @ inventory ---
[INFO] Using auto detected provider org.apache.maven.surefire.junitplatform.JUnitPlatformProvider
[INFO] 
[INFO] -------------------------------------------------------
[INFO]  T E S T S
[INFO] -------------------------------------------------------
feb 25, 2026 12:11:30 A. M. org.junit.platform.launcher.core.LauncherConfigurationParameters loadClasspathResource
WARNING: Discovered 3 'junit-platform.properties' configuration files on the classpath (see below); only the first (*) will be used.
- jar:file:/home/franchu/.m2/repository/org/apache/kafka/kafka-clients/3.8.1/kafka-clients-3.8.1-test.jar!/junit-platform.properties (*)
- jar:file:/home/franchu/.m2/repository/org/apache/kafka/kafka-server-common/3.8.1/kafka-server-common-3.8.1-test.jar!/junit-platform.properties
- jar:file:/home/franchu/.m2/repository/org/apache/kafka/kafka_2.13/3.8.1/kafka_2.13-3.8.1-test.jar!/junit-platform.properties
feb 25, 2026 12:11:30 A. M. org.junit.platform.launcher.core.LauncherConfigurationParameters loadClasspathResource
WARNING: Discovered 3 'junit-platform.properties' configuration files on the classpath (see below); only the first (*) will be used.
- jar:file:/home/franchu/.m2/repository/org/apache/kafka/kafka-clients/3.8.1/kafka-clients-3.8.1-test.jar!/junit-platform.properties (*)
- jar:file:/home/franchu/.m2/repository/org/apache/kafka/kafka-server-common/3.8.1/kafka-server-common-3.8.1-test.jar!/junit-platform.properties
- jar:file:/home/franchu/.m2/repository/org/apache/kafka/kafka_2.13/3.8.1/kafka_2.13-3.8.1-test.jar!/junit-platform.properties
feb 25, 2026 12:11:30 A. M. org.junit.platform.launcher.core.LauncherConfigurationParameters loadClasspathResource
WARNING: Discovered 3 'junit-platform.properties' configuration files on the classpath (see below); only the first (*) will be used.
- jar:file:/home/franchu/.m2/repository/org/apache/kafka/kafka-clients/3.8.1/kafka-clients-3.8.1-test.jar!/junit-platform.properties (*)
- jar:file:/home/franchu/.m2/repository/org/apache/kafka/kafka-server-common/3.8.1/kafka-server-common-3.8.1-test.jar!/junit-platform.properties
- jar:file:/home/franchu/.m2/repository/org/apache/kafka/kafka_2.13/3.8.1/kafka_2.13-3.8.1-test.jar!/junit-platform.properties
SLF4J(W): Class path contains multiple SLF4J providers.
SLF4J(W): Found provider [ch.qos.logback.classic.spi.LogbackServiceProvider@93cf163]
SLF4J(W): Found provider [org.slf4j.simple.SimpleServiceProvider@1852a3ff]
SLF4J(W): See https://www.slf4j.org/codes.html#multiple_bindings for an explanation.
SLF4J(I): Actual provider is of type [ch.qos.logback.classic.spi.LogbackServiceProvider@93cf163]
[INFO] Running com.economato.inventory.controller.ProductControllerIntegrationTest
00:11:31.055 [main] INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils -- Could not detect default configuration classes for test class [com.economato.inventory.controller.ProductControllerIntegrationTest]: ProductControllerIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
00:11:31.192 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper -- Found @SpringBootConfiguration com.economato.inventory.InventoryApplication for test class com.economato.inventory.controller.ProductControllerIntegrationTest
00:11:31.318 [main] INFO org.springframework.boot.devtools.restart.RestartApplicationListener -- Restart disabled due to context in which it is running

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/

 :: Spring Boot ::                (v3.4.2)

2026-02-25T00:11:31.537Z DEBUG 627566 --- [inventory] [           main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@5b0902b4
2026-02-25T00:11:33.044Z  INFO 627566 --- [inventory] [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2026-02-25T00:11:33.081Z  INFO 627566 --- [inventory] [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.5.Final
2026-02-25T00:11:33.109Z  INFO 627566 --- [inventory] [           main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2026-02-25T00:11:33.558Z  WARN 627566 --- [inventory] [           main] org.hibernate.dialect.Dialect            : HHH000511: The 2.3.232 version for [org.hibernate.dialect.PostgreSQLDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 12.0.0. Check the community dialects project for available legacy versions.
2026-02-25T00:11:33.562Z  WARN 627566 --- [inventory] [           main] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-02-25T00:11:33.574Z  INFO 627566 --- [inventory] [           main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2026-02-25T00:11:34.626Z  INFO 627566 --- [inventory] [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
Hibernate: 
    set client_min_messages = WARNING
Hibernate: 
    alter table if exists inventory_audit 
       drop constraint if exists fk_inventory_audit_product
Hibernate: 
    alter table if exists inventory_audit 
       drop constraint if exists fk_inventory_audit_user
Hibernate: 
    alter table if exists order_audit 
       drop constraint if exists fk_order_audit_order
Hibernate: 
    alter table if exists order_audit 
       drop constraint if exists fk_order_audit_user
Hibernate: 
    alter table if exists order_detail 
       drop constraint if exists fk_order_detail_order
Hibernate: 
    alter table if exists order_detail 
       drop constraint if exists fk_order_detail_product
Hibernate: 
    alter table if exists order_header 
       drop constraint if exists fk_order_user
Hibernate: 
    alter table if exists product 
       drop constraint if exists fk_product_supplier
Hibernate: 
    alter table if exists recipe_allergen 
       drop constraint if exists FK5ceorq8xo6ht37xq3dmj7xsaa
Hibernate: 
    alter table if exists recipe_allergen 
       drop constraint if exists FKds7dbdp4j946gihsuy4asv2l4
Hibernate: 
    alter table if exists recipe_audit 
       drop constraint if exists fk_recipe_audit_recipe
Hibernate: 
    alter table if exists recipe_audit 
       drop constraint if exists fk_recipe_audit_user
Hibernate: 
    alter table if exists recipe_component 
       drop constraint if exists fk_recipe_component_recipe
Hibernate: 
    alter table if exists recipe_component 
       drop constraint if exists fk_recipe_component_product
Hibernate: 
    alter table if exists recipe_cooking_audit 
       drop constraint if exists fk_cooking_audit_recipe
Hibernate: 
    alter table if exists recipe_cooking_audit 
       drop constraint if exists fk_cooking_audit_user
Hibernate: 
    alter table if exists stock_ledger 
       drop constraint if exists fk_ledger_product
Hibernate: 
    alter table if exists stock_ledger 
       drop constraint if exists fk_ledger_user
Hibernate: 
    alter table if exists stock_snapshot 
       drop constraint if exists fk_snapshot_product
Hibernate: 
    drop table if exists allergen cascade
Hibernate: 
    drop table if exists inventory_audit cascade
Hibernate: 
    drop table if exists order_audit cascade
Hibernate: 
    drop table if exists order_detail cascade
Hibernate: 
    drop table if exists order_header cascade
Hibernate: 
    drop table if exists product cascade
Hibernate: 
    drop table if exists recipe cascade
Hibernate: 
    drop table if exists recipe_allergen cascade
Hibernate: 
    drop table if exists recipe_audit cascade
Hibernate: 
    drop table if exists recipe_component cascade
Hibernate: 
    drop table if exists recipe_cooking_audit cascade
Hibernate: 
    drop table if exists stock_ledger cascade
Hibernate: 
    drop table if exists stock_snapshot cascade
Hibernate: 
    drop table if exists supplier cascade
Hibernate: 
    drop table if exists users cascade
Hibernate: 
    create table allergen (
        allergen_id integer generated by default as identity,
        name varchar(50) not null unique,
        primary key (allergen_id)
    )
Hibernate: 
    create table inventory_audit (
        audit_id integer generated by default as identity,
        product_id integer not null,
        quantity numeric(13,3) not null,
        user_id integer,
        movement_date timestamp(6) not null,
        movement_type varchar(20) not null,
        action_description varchar(500),
        new_state TEXT,
        previous_state TEXT,
        primary key (audit_id)
    )
Hibernate: 
    create table order_audit (
        audit_id integer generated by default as identity,
        order_id integer,
        user_id integer,
        audit_date timestamp(6) not null,
        action varchar(100) not null,
        details TEXT,
        new_state TEXT,
        previous_state TEXT,
        primary key (audit_id)
    )
Hibernate: 
    create table order_detail (
        order_id integer not null,
        product_id integer not null,
        received_quantity numeric(13,3),
        requested_quantity numeric(13,3) not null,
        primary key (order_id, product_id)
    )
Hibernate: 
    create table order_header (
        order_id integer generated by default as identity,
        user_id integer not null,
        order_date timestamp(6) not null,
        version bigint,
        status varchar(20) not null,
        primary key (order_id)
    )
Hibernate: 
    create table product (
        availability_percentage numeric(5,2),
        current_stock numeric(13,3) not null,
        minimum_stock numeric(13,3) not null,
        product_id integer generated by default as identity,
        supplier_id integer,
        unit_price numeric(12,2) not null,
        version bigint,
        unit_of_measure varchar(20) not null,
        product_code varchar(50) not null unique,
        type varchar(50) not null,
        name varchar(100) not null,
        primary key (product_id)
    )
Hibernate: 
    create table recipe (
        recipe_id integer generated by default as identity,
        total_cost numeric(12,2),
        version bigint,
        recipe_name varchar(150) not null,
        presentation TEXT,
        elaboration TEXT,
        primary key (recipe_id)
    )
Hibernate: 
    create table recipe_allergen (
        allergen_id integer not null,
        id integer generated by default as identity,
        recipe_id integer not null,
        primary key (id)
    )
Hibernate: 
    create table recipe_audit (
        audit_id integer generated by default as identity,
        recipe_id integer,
        user_id integer,
        audit_date timestamp(6) not null,
        action varchar(100) not null,
        details TEXT,
        new_state TEXT,
        previous_state TEXT,
        primary key (audit_id)
    )
Hibernate: 
    create table recipe_component (
        id integer generated by default as identity,
        parent_recipe_id integer not null,
        product_id integer not null,
        quantity numeric(13,3) not null,
        primary key (id),
        constraint uk_recipe_component unique (parent_recipe_id, product_id)
    )
Hibernate: 
    create table recipe_cooking_audit (
        quantity_cooked numeric(13,3) not null,
        recipe_id integer not null,
        user_id integer,
        cooking_audit_id bigint generated by default as identity,
        cooking_date timestamp(6) not null,
        details TEXT,
        components_state TEXT,
        primary key (cooking_audit_id)
    )
Hibernate: 
    create table stock_ledger (
        order_id integer,
        product_id integer not null,
        quantity_delta numeric(13,3) not null,
        resulting_stock numeric(13,3) not null,
        user_id integer,
        verified boolean not null,
        sequence_number bigint not null,
        transaction_id bigint generated by default as identity,
        transaction_timestamp timestamp(6) not null,
        movement_type varchar(50) not null check (movement_type in ('ENTRADA','SALIDA','AJUSTE')),
        current_hash varchar(64) not null unique,
        previous_hash varchar(64) not null,
        description varchar(500),
        primary key (transaction_id)
    )
Hibernate: 
    create table stock_snapshot (
        current_stock numeric(13,3) not null,
        product_id integer not null,
        last_sequence_number bigint not null,
        last_updated timestamp(6) not null,
        last_verified timestamp(6),
        version bigint,
        integrity_status varchar(20) not null,
        last_transaction_hash varchar(64) not null,
        primary key (product_id)
    )
Hibernate: 
    create table supplier (
        supplier_id integer generated by default as identity,
        name varchar(100) not null unique,
        primary key (supplier_id)
    )
Hibernate: 
    create table users (
        is_first_login boolean not null,
        is_hidden boolean not null,
        user_id integer generated by default as identity,
        role varchar(20) not null check (role in ('ADMIN','CHEF','USER')),
        name varchar(100) not null,
        "user" varchar(100) not null unique,
        password varchar(255) not null,
        primary key (user_id)
    )
Hibernate: 
    create index idx_inventory_audit_product 
       on inventory_audit (product_id)
Hibernate: 
    create index idx_inventory_audit_user 
       on inventory_audit (user_id)
Hibernate: 
    create index idx_inventory_audit_date 
       on inventory_audit (movement_date)
Hibernate: 
    create index idx_inventory_audit_type 
       on inventory_audit (movement_type)
Hibernate: 
    create index idx_order_audit_order 
       on order_audit (order_id)
Hibernate: 
    create index idx_order_audit_user 
       on order_audit (user_id)
Hibernate: 
    create index idx_order_audit_date 
       on order_audit (audit_date)
Hibernate: 
    create index idx_order_audit_action 
       on order_audit (action)
Hibernate: 
    create index idx_order_detail_order 
       on order_detail (order_id)
Hibernate: 
    create index idx_order_detail_product 
       on order_detail (product_id)
Hibernate: 
    create index idx_order_status 
       on order_header (status)
Hibernate: 
    create index idx_order_date 
       on order_header (order_date)
Hibernate: 
    create index idx_order_user 
       on order_header (user_id)
Hibernate: 
    create index idx_product_name 
       on product (name)
Hibernate: 
    create index idx_product_type 
       on product (type)
Hibernate: 
    create index idx_recipe_name 
       on recipe (recipe_name)
Hibernate: 
    create index idx_recipe_audit_recipe 
       on recipe_audit (recipe_id)
Hibernate: 
    create index idx_recipe_audit_user 
       on recipe_audit (user_id)
Hibernate: 
    create index idx_recipe_audit_date 
       on recipe_audit (audit_date)
Hibernate: 
    create index idx_recipe_audit_action 
       on recipe_audit (action)
Hibernate: 
    create index idx_recipe_component_recipe 
       on recipe_component (parent_recipe_id)
Hibernate: 
    create index idx_recipe_component_product 
       on recipe_component (product_id)
Hibernate: 
    create index idx_cooking_audit_recipe 
       on recipe_cooking_audit (recipe_id)
Hibernate: 
    create index idx_cooking_audit_user 
       on recipe_cooking_audit (user_id)
Hibernate: 
    create index idx_cooking_audit_date 
       on recipe_cooking_audit (cooking_date)
Hibernate: 
    create index idx_ledger_product 
       on stock_ledger (product_id)
Hibernate: 
    create index idx_ledger_timestamp 
       on stock_ledger (transaction_timestamp)
Hibernate: 
    create index idx_ledger_type 
       on stock_ledger (movement_type)
Hibernate: 
    create index idx_ledger_prev_hash 
       on stock_ledger (previous_hash)
Hibernate: 
    create index idx_snapshot_updated 
       on stock_snapshot (last_updated)
Hibernate: 
    create index idx_user_role 
       on users (role)
Hibernate: 
    alter table if exists inventory_audit 
       add constraint fk_inventory_audit_product 
       foreign key (product_id) 
       references product
Hibernate: 
    alter table if exists inventory_audit 
       add constraint fk_inventory_audit_user 
       foreign key (user_id) 
       references users
Hibernate: 
    alter table if exists order_audit 
       add constraint fk_order_audit_order FOREIGN KEY (order_id) REFERENCES order_header(order_id) ON DELETE SET NULL
Hibernate: 
    alter table if exists order_audit 
       add constraint fk_order_audit_user 
       foreign key (user_id) 
       references users
Hibernate: 
    alter table if exists order_detail 
       add constraint fk_order_detail_order 
       foreign key (order_id) 
       references order_header
Hibernate: 
    alter table if exists order_detail 
       add constraint fk_order_detail_product 
       foreign key (product_id) 
       references product
Hibernate: 
    alter table if exists order_header 
       add constraint fk_order_user 
       foreign key (user_id) 
       references users
Hibernate: 
    alter table if exists product 
       add constraint fk_product_supplier 
       foreign key (supplier_id) 
       references supplier
Hibernate: 
    alter table if exists recipe_allergen 
       add constraint FK5ceorq8xo6ht37xq3dmj7xsaa 
       foreign key (allergen_id) 
       references allergen
Hibernate: 
    alter table if exists recipe_allergen 
       add constraint FKds7dbdp4j946gihsuy4asv2l4 
       foreign key (recipe_id) 
       references recipe
Hibernate: 
    alter table if exists recipe_audit 
       add constraint fk_recipe_audit_recipe FOREIGN KEY (recipe_id) REFERENCES recipe(recipe_id) ON DELETE SET NULL
Hibernate: 
    alter table if exists recipe_audit 
       add constraint fk_recipe_audit_user 
       foreign key (user_id) 
       references users
Hibernate: 
    alter table if exists recipe_component 
       add constraint fk_recipe_component_recipe 
       foreign key (parent_recipe_id) 
       references recipe
Hibernate: 
    alter table if exists recipe_component 
       add constraint fk_recipe_component_product 
       foreign key (product_id) 
       references product
Hibernate: 
    alter table if exists recipe_cooking_audit 
       add constraint fk_cooking_audit_recipe 
       foreign key (recipe_id) 
       references recipe
Hibernate: 
    alter table if exists recipe_cooking_audit 
       add constraint fk_cooking_audit_user 
       foreign key (user_id) 
       references users
Hibernate: 
    alter table if exists stock_ledger 
       add constraint fk_ledger_product 
       foreign key (product_id) 
       references product
Hibernate: 
    alter table if exists stock_ledger 
       add constraint fk_ledger_user 
       foreign key (user_id) 
       references users
Hibernate: 
    alter table if exists stock_snapshot 
       add constraint fk_snapshot_product 
       foreign key (product_id) 
       references product
2026-02-25T00:11:36.396Z DEBUG 627566 --- [inventory] [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : 109 mappings in 'requestMappingHandlerMapping'
2026-02-25T00:11:36.488Z DEBUG 627566 --- [inventory] [           main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /scripts/**, /styles/**, /robots.txt, /sitemap.xml, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2026-02-25T00:11:36.886Z DEBUG 627566 --- [inventory] [           main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2026-02-25T00:11:36.941Z DEBUG 627566 --- [inventory] [           main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2026-02-25T00:11:37.273Z DEBUG 627566 --- [inventory] [           main] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2026-02-25T00:11:37.274Z DEBUG 627566 --- [inventory] [           main] o.s.w.s.r.ResourceUrlEncodingFilter      : Filter 'resourceUrlEncodingFilter' configured for use
Mockito is currently self-attaching to enable the inline-mock-maker. This will no longer work in future releases of the JDK. Please add Mockito as an agent to your build what is described in Mockito's documentation: https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/Mockito.html#0.3
OpenJDK 64-Bit Server VM warning: Sharing is only supported for boot loader classes because bootstrap classpath has been appended
WARNING: A Java agent has been loaded dynamically (/home/franchu/.m2/repository/net/bytebuddy/byte-buddy-agent/1.15.11/byte-buddy-agent-1.15.11.jar)
WARNING: If a serviceability tool is in use, please run with -XX:+EnableDynamicAgentLoading to hide this warning
WARNING: If a serviceability tool is not in use, please run with -Djdk.instrument.traceUsage for more information
WARNING: Dynamic loading of agents will be disallowed by default in a future release
Hibernate: 
    
SET
    REFERENTIAL_INTEGRITY FALSE
Hibernate: 
    TRUNCATE TABLE allergen RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE product RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE stock_ledger RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE recipe_component RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE stock_snapshot RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE order_header RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE recipe RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE order_audit RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE order_detail RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE users RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE supplier RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE inventory_audit RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE recipe_cooking_audit RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE recipe_audit RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE recipe_allergen RESTART IDENTITY
Hibernate: 
    
SET
    REFERENTIAL_INTEGRITY TRUE
Hibernate: 
    insert 
    into
        users
        (is_first_login, is_hidden, name, password, role, "user") 
    values
        (?, ?, ?, ?, ?, ?)
2026-02-25T00:11:37.887Z DEBUG 627566 --- [inventory] [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.economato.inventory.controller.AuthController#authenticateUser(LoginRequestDTO)
2026-02-25T00:11:37.914Z DEBUG 627566 --- [inventory] [           main] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequestDTO(name=Admin, password=admin123)]
Hibernate: 
    select
        u1_0.user_id,
        u1_0.is_first_login,
        u1_0.is_hidden,
        u1_0.name,
        u1_0.password,
        u1_0.role,
        u1_0."user" 
    from
        users u1_0 
    where
        u1_0.name=?
2026-02-25T00:11:38.101Z DEBUG 627566 --- [inventory] [           main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2026-02-25T00:11:38.101Z DEBUG 627566 --- [inventory] [           main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [LoginResponseDTO(token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJBZG1pbiIsInJvbGUiOiJBRE1JTiIsImlhdCI6MTc3MTk3 (truncated)...]
Hibernate: 
    insert 
    into
        product
        (availability_percentage, current_stock, minimum_stock, name, product_code, supplier_id, type, unit_of_measure, unit_price, version) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-25T00:11:38.137Z DEBUG 627566 --- [inventory] [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.economato.inventory.controller.ProductController#searchProductsByName(String, Pageable)
Hibernate: 
    select
        p1_0.product_id,
        p1_0.name,
        p1_0.type,
        p1_0.unit_of_measure,
        p1_0.unit_price,
        p1_0.product_code,
        p1_0.current_stock,
        p1_0.availability_percentage,
        p1_0.minimum_stock,
        s1_0.supplier_id,
        s1_0.name 
    from
        product p1_0 
    left join
        supplier s1_0 
            on s1_0.supplier_id=p1_0.supplier_id 
    where
        upper(p1_0.name) like upper(?) escape '\' 
    fetch
        first ? rows only
2026-02-25T00:11:38.170Z DEBUG 627566 --- [inventory] [           main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2026-02-25T00:11:38.170Z DEBUG 627566 --- [inventory] [           main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 0 containing UNKNOWN instances]
Hibernate: 
    
SET
    REFERENTIAL_INTEGRITY FALSE
Hibernate: 
    TRUNCATE TABLE allergen RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE product RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE stock_ledger RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE recipe_component RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE stock_snapshot RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE order_header RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE recipe RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE order_audit RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE order_detail RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE users RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE supplier RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE inventory_audit RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE recipe_cooking_audit RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE recipe_audit RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE recipe_allergen RESTART IDENTITY
Hibernate: 
    
SET
    REFERENTIAL_INTEGRITY TRUE
Hibernate: 
    insert 
    into
        users
        (is_first_login, is_hidden, name, password, role, "user") 
    values
        (?, ?, ?, ?, ?, ?)
2026-02-25T00:11:38.298Z DEBUG 627566 --- [inventory] [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.economato.inventory.controller.AuthController#authenticateUser(LoginRequestDTO)
2026-02-25T00:11:38.299Z DEBUG 627566 --- [inventory] [           main] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequestDTO(name=Admin, password=admin123)]
Hibernate: 
    select
        u1_0.user_id,
        u1_0.is_first_login,
        u1_0.is_hidden,
        u1_0.name,
        u1_0.password,
        u1_0.role,
        u1_0."user" 
    from
        users u1_0 
    where
        u1_0.name=?
2026-02-25T00:11:38.342Z DEBUG 627566 --- [inventory] [           main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2026-02-25T00:11:38.342Z DEBUG 627566 --- [inventory] [           main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [LoginResponseDTO(token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJBZG1pbiIsInJvbGUiOiJBRE1JTiIsImlhdCI6MTc3MTk3 (truncated)...]
Hibernate: 
    insert 
    into
        product
        (availability_percentage, current_stock, minimum_stock, name, product_code, supplier_id, type, unit_of_measure, unit_price, version) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-25T00:11:38.349Z DEBUG 627566 --- [inventory] [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.economato.inventory.controller.ProductController#createProduct(ProductRequestDTO)
2026-02-25T00:11:38.352Z DEBUG 627566 --- [inventory] [           main] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [ProductRequestDTO(name=Abdejo Aliased, type=Ingrediente, unit=KG, unitPrice=5.50, productCode=ALIAS1 (truncated)...]
Hibernate: 
    select
        p1_0.product_id 
    from
        product p1_0 
    where
        p1_0.name=? 
    fetch
        first ? rows only
Hibernate: 
    insert 
    into
        product
        (availability_percentage, current_stock, minimum_stock, name, product_code, supplier_id, type, unit_of_measure, unit_price, version) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-25T00:11:38.370Z DEBUG 627566 --- [inventory] [           main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2026-02-25T00:11:38.371Z DEBUG 627566 --- [inventory] [           main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ProductResponseDTO(id=2, name=Abdejo Aliased, type=Ingrediente, unit=KG, unitPrice=5.50, productCode (truncated)...]

MockHttpServletRequest:
      HTTP Method = POST
      Request URI = /api/auth/login
       Parameters = {}
          Headers = [Content-Type:"application/json;charset=UTF-8", Content-Length:"38"]
             Body = {"name":"Admin","password":"admin123"}
    Session Attrs = {}

Handler:
             Type = com.economato.inventory.controller.AuthController
           Method = com.economato.inventory.controller.AuthController#authenticateUser(LoginRequestDTO)

Async:
    Async started = false
     Async result = null

Resolved Exception:
             Type = null

ModelAndView:
        View name = null
             View = null
            Model = null

FlashMap:
       Attributes = null

MockHttpServletResponse:
           Status = 200
    Error message = null
          Headers = [Vary:"Origin", "Access-Control-Request-Method", "Access-Control-Request-Headers", Content-Type:"application/json", X-Content-Type-Options:"nosniff", X-XSS-Protection:"0", Cache-Control:"no-cache, no-store, max-age=0, must-revalidate", Pragma:"no-cache", Expires:"0", X-Frame-Options:"DENY", Content-Security-Policy:"default-src 'self'; script-src 'self' 'unsafe-inline' 'unsafe-eval'; style-src 'self' 'unsafe-inline'; img-src 'self' data: https:; font-src 'self' data:; connect-src 'self'; frame-ancestors 'none'; base-uri 'self'; form-action 'self'; upgrade-insecure-requests", Referrer-Policy:"strict-origin-when-cross-origin"]
     Content type = application/json
             Body = {"token":"eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJBZG1pbiIsInJvbGUiOiJBRE1JTiIsImlhdCI6MTc3MTk3ODI5OCwiZXhwIjoxNzcxOTgxODk4fQ.lDcENfqsQm5FKT0RBeJQSsuLS_SIpfVISpExwjqxo9I","role":"ADMIN"}
    Forwarded URL = null
   Redirected URL = null
          Cookies = []

MockHttpServletRequest:
      HTTP Method = POST
      Request URI = /api/products
       Parameters = {}
          Headers = [Content-Type:"application/json;charset=UTF-8", Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJBZG1pbiIsInJvbGUiOiJBRE1JTiIsImlhdCI6MTc3MTk3ODI5OCwiZXhwIjoxNzcxOTgxODk4fQ.lDcENfqsQm5FKT0RBeJQSsuLS_SIpfVISpExwjqxo9I", Content-Length:"122"]
             Body = {"name":"Abdejo Aliased","productCode":"ALIAS123","type":"Ingrediente","unit":"KG","price":5.50,"stock":100,"minStock":10}
    Session Attrs = {}

Handler:
             Type = com.economato.inventory.controller.ProductController
           Method = com.economato.inventory.controller.ProductController#createProduct(ProductRequestDTO)

Async:
    Async started = false
     Async result = null

Resolved Exception:
             Type = null

ModelAndView:
        View name = null
             View = null
            Model = null

FlashMap:
       Attributes = null

MockHttpServletResponse:
           Status = 201
    Error message = null
          Headers = [Vary:"Origin", "Access-Control-Request-Method", "Access-Control-Request-Headers", Content-Type:"application/json", X-Content-Type-Options:"nosniff", X-XSS-Protection:"0", Cache-Control:"no-cache, no-store, max-age=0, must-revalidate", Pragma:"no-cache", Expires:"0", X-Frame-Options:"DENY", Content-Security-Policy:"default-src 'self'; script-src 'self' 'unsafe-inline' 'unsafe-eval'; style-src 'self' 'unsafe-inline'; img-src 'self' data: https:; font-src 'self' data:; connect-src 'self'; frame-ancestors 'none'; base-uri 'self'; form-action 'self'; upgrade-insecure-requests", Referrer-Policy:"strict-origin-when-cross-origin"]
     Content type = application/json
             Body = {"id":2,"name":"Abdejo Aliased","type":"Ingrediente","unit":"KG","unitPrice":5.50,"productCode":"ALIAS123","currentStock":100,"availabilityPercentage":null,"minimumStock":10,"supplier":null}
    Forwarded URL = null
   Redirected URL = null
          Cookies = []
Hibernate: 
    
SET
    REFERENTIAL_INTEGRITY FALSE
Hibernate: 
    TRUNCATE TABLE allergen RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE product RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE stock_ledger RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE recipe_component RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE stock_snapshot RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE order_header RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE recipe RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE order_audit RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE order_detail RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE users RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE supplier RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE inventory_audit RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE recipe_cooking_audit RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE recipe_audit RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE recipe_allergen RESTART IDENTITY
Hibernate: 
    
SET
    REFERENTIAL_INTEGRITY TRUE
Hibernate: 
    insert 
    into
        users
        (is_first_login, is_hidden, name, password, role, "user") 
    values
        (?, ?, ?, ?, ?, ?)
2026-02-25T00:11:38.476Z DEBUG 627566 --- [inventory] [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.economato.inventory.controller.AuthController#authenticateUser(LoginRequestDTO)
2026-02-25T00:11:38.477Z DEBUG 627566 --- [inventory] [           main] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequestDTO(name=Admin, password=admin123)]
Hibernate: 
    select
        u1_0.user_id,
        u1_0.is_first_login,
        u1_0.is_hidden,
        u1_0.name,
        u1_0.password,
        u1_0.role,
        u1_0."user" 
    from
        users u1_0 
    where
        u1_0.name=?
2026-02-25T00:11:38.520Z DEBUG 627566 --- [inventory] [           main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2026-02-25T00:11:38.520Z DEBUG 627566 --- [inventory] [           main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [LoginResponseDTO(token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJBZG1pbiIsInJvbGUiOiJBRE1JTiIsImlhdCI6MTc3MTk3 (truncated)...]
Hibernate: 
    insert 
    into
        product
        (availability_percentage, current_stock, minimum_stock, name, product_code, supplier_id, type, unit_of_measure, unit_price, version) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-25T00:11:38.528Z DEBUG 627566 --- [inventory] [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.economato.inventory.controller.ProductController#getByCodebar(String)
Hibernate: 
    select
        p1_0.product_id,
        p1_0.name,
        p1_0.type,
        p1_0.unit_of_measure,
        p1_0.unit_price,
        p1_0.product_code,
        p1_0.current_stock,
        p1_0.availability_percentage,
        p1_0.minimum_stock,
        s1_0.supplier_id,
        s1_0.name 
    from
        product p1_0 
    left join
        supplier s1_0 
            on s1_0.supplier_id=p1_0.supplier_id 
    where
        p1_0.product_code=?
2026-02-25T00:11:38.539Z DEBUG 627566 --- [inventory] [           main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2026-02-25T00:11:38.540Z DEBUG 627566 --- [inventory] [           main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ProductResponseDTO(id=1, name=Harina, type=Ingrediente, unit=KG, unitPrice=2.50, productCode=HAR001, (truncated)...]
Hibernate: 
    
SET
    REFERENTIAL_INTEGRITY FALSE
Hibernate: 
    TRUNCATE TABLE allergen RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE product RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE stock_ledger RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE recipe_component RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE stock_snapshot RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE order_header RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE recipe RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE order_audit RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE order_detail RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE users RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE supplier RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE inventory_audit RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE recipe_cooking_audit RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE recipe_audit RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE recipe_allergen RESTART IDENTITY
Hibernate: 
    
SET
    REFERENTIAL_INTEGRITY TRUE
Hibernate: 
    insert 
    into
        users
        (is_first_login, is_hidden, name, password, role, "user") 
    values
        (?, ?, ?, ?, ?, ?)
2026-02-25T00:11:38.635Z DEBUG 627566 --- [inventory] [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.economato.inventory.controller.AuthController#authenticateUser(LoginRequestDTO)
2026-02-25T00:11:38.636Z DEBUG 627566 --- [inventory] [           main] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequestDTO(name=Admin, password=admin123)]
Hibernate: 
    select
        u1_0.user_id,
        u1_0.is_first_login,
        u1_0.is_hidden,
        u1_0.name,
        u1_0.password,
        u1_0.role,
        u1_0."user" 
    from
        users u1_0 
    where
        u1_0.name=?
2026-02-25T00:11:38.680Z DEBUG 627566 --- [inventory] [           main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2026-02-25T00:11:38.681Z DEBUG 627566 --- [inventory] [           main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [LoginResponseDTO(token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJBZG1pbiIsInJvbGUiOiJBRE1JTiIsImlhdCI6MTc3MTk3 (truncated)...]
Hibernate: 
    insert 
    into
        product
        (availability_percentage, current_stock, minimum_stock, name, product_code, supplier_id, type, unit_of_measure, unit_price, version) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-25T00:11:38.688Z DEBUG 627566 --- [inventory] [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.economato.inventory.controller.ProductController#createProduct(ProductRequestDTO)
2026-02-25T00:11:38.689Z DEBUG 627566 --- [inventory] [           main] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [ProductRequestDTO(name=Harina de trigo, type=Ingrediente, unit=KG, unitPrice=2.50, productCode=HAR00 (truncated)...]
Hibernate: 
    select
        p1_0.product_id 
    from
        product p1_0 
    where
        p1_0.name=? 
    fetch
        first ? rows only
Hibernate: 
    insert 
    into
        product
        (availability_percentage, current_stock, minimum_stock, name, product_code, supplier_id, type, unit_of_measure, unit_price, version) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-25T00:11:38.693Z DEBUG 627566 --- [inventory] [           main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2026-02-25T00:11:38.693Z DEBUG 627566 --- [inventory] [           main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ProductResponseDTO(id=2, name=Harina de trigo, type=Ingrediente, unit=KG, unitPrice=2.50, productCod (truncated)...]

MockHttpServletRequest:
      HTTP Method = POST
      Request URI = /api/auth/login
       Parameters = {}
          Headers = [Content-Type:"application/json;charset=UTF-8", Content-Length:"38"]
             Body = {"name":"Admin","password":"admin123"}
    Session Attrs = {}

Handler:
             Type = com.economato.inventory.controller.AuthController
           Method = com.economato.inventory.controller.AuthController#authenticateUser(LoginRequestDTO)

Async:
    Async started = false
     Async result = null

Resolved Exception:
             Type = null

ModelAndView:
        View name = null
             View = null
            Model = null

FlashMap:
       Attributes = null

MockHttpServletResponse:
           Status = 200
    Error message = null
          Headers = [Vary:"Origin", "Access-Control-Request-Method", "Access-Control-Request-Headers", Content-Type:"application/json", X-Content-Type-Options:"nosniff", X-XSS-Protection:"0", Cache-Control:"no-cache, no-store, max-age=0, must-revalidate", Pragma:"no-cache", Expires:"0", X-Frame-Options:"DENY", Content-Security-Policy:"default-src 'self'; script-src 'self' 'unsafe-inline' 'unsafe-eval'; style-src 'self' 'unsafe-inline'; img-src 'self' data: https:; font-src 'self' data:; connect-src 'self'; frame-ancestors 'none'; base-uri 'self'; form-action 'self'; upgrade-insecure-requests", Referrer-Policy:"strict-origin-when-cross-origin"]
     Content type = application/json
             Body = {"token":"eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJBZG1pbiIsInJvbGUiOiJBRE1JTiIsImlhdCI6MTc3MTk3ODI5OCwiZXhwIjoxNzcxOTgxODk4fQ.lDcENfqsQm5FKT0RBeJQSsuLS_SIpfVISpExwjqxo9I","role":"ADMIN"}
    Forwarded URL = null
   Redirected URL = null
          Cookies = []

MockHttpServletRequest:
      HTTP Method = POST
      Request URI = /api/products
       Parameters = {}
          Headers = [Content-Type:"application/json;charset=UTF-8", Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJBZG1pbiIsInJvbGUiOiJBRE1JTiIsImlhdCI6MTc3MTk3ODI5OCwiZXhwIjoxNzcxOTgxODk4fQ.lDcENfqsQm5FKT0RBeJQSsuLS_SIpfVISpExwjqxo9I", Content-Length:"185"]
             Body = {"name":"Harina de trigo","type":"Ingrediente","unit":"KG","unitPrice":2.50,"productCode":"HAR002","currentStock":100.0,"availabilityPercentage":null,"minimumStock":0,"supplierId":null}
    Session Attrs = {}

Handler:
             Type = com.economato.inventory.controller.ProductController
           Method = com.economato.inventory.controller.ProductController#createProduct(ProductRequestDTO)

Async:
    Async started = false
     Async result = null

Resolved Exception:
             Type = null

ModelAndView:
        View name = null
             View = null
            Model = null

FlashMap:
       Attributes = null

MockHttpServletResponse:
           Status = 201
    Error message = null
          Headers = [Vary:"Origin", "Access-Control-Request-Method", "Access-Control-Request-Headers", Content-Type:"application/json", X-Content-Type-Options:"nosniff", X-XSS-Protection:"0", Cache-Control:"no-cache, no-store, max-age=0, must-revalidate", Pragma:"no-cache", Expires:"0", X-Frame-Options:"DENY", Content-Security-Policy:"default-src 'self'; script-src 'self' 'unsafe-inline' 'unsafe-eval'; style-src 'self' 'unsafe-inline'; img-src 'self' data: https:; font-src 'self' data:; connect-src 'self'; frame-ancestors 'none'; base-uri 'self'; form-action 'self'; upgrade-insecure-requests", Referrer-Policy:"strict-origin-when-cross-origin"]
     Content type = application/json
             Body = {"id":2,"name":"Harina de trigo","type":"Ingrediente","unit":"KG","unitPrice":2.50,"productCode":"HAR002","currentStock":100.0,"availabilityPercentage":null,"minimumStock":0,"supplier":null}
    Forwarded URL = null
   Redirected URL = null
          Cookies = []
Hibernate: 
    
SET
    REFERENTIAL_INTEGRITY FALSE
Hibernate: 
    TRUNCATE TABLE allergen RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE product RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE stock_ledger RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE recipe_component RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE stock_snapshot RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE order_header RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE recipe RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE order_audit RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE order_detail RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE users RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE supplier RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE inventory_audit RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE recipe_cooking_audit RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE recipe_audit RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE recipe_allergen RESTART IDENTITY
Hibernate: 
    
SET
    REFERENTIAL_INTEGRITY TRUE
Hibernate: 
    insert 
    into
        users
        (is_first_login, is_hidden, name, password, role, "user") 
    values
        (?, ?, ?, ?, ?, ?)
2026-02-25T00:11:38.787Z DEBUG 627566 --- [inventory] [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.economato.inventory.controller.AuthController#authenticateUser(LoginRequestDTO)
2026-02-25T00:11:38.788Z DEBUG 627566 --- [inventory] [           main] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequestDTO(name=Admin, password=admin123)]
Hibernate: 
    select
        u1_0.user_id,
        u1_0.is_first_login,
        u1_0.is_hidden,
        u1_0.name,
        u1_0.password,
        u1_0.role,
        u1_0."user" 
    from
        users u1_0 
    where
        u1_0.name=?
2026-02-25T00:11:38.831Z DEBUG 627566 --- [inventory] [           main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2026-02-25T00:11:38.831Z DEBUG 627566 --- [inventory] [           main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [LoginResponseDTO(token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJBZG1pbiIsInJvbGUiOiJBRE1JTiIsImlhdCI6MTc3MTk3 (truncated)...]
Hibernate: 
    insert 
    into
        product
        (availability_percentage, current_stock, minimum_stock, name, product_code, supplier_id, type, unit_of_measure, unit_price, version) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-25T00:11:38.836Z DEBUG 627566 --- [inventory] [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.economato.inventory.controller.ProductController#downloadProductsExcel()
2026-02-25T00:11:38.840Z DEBUG 627566 --- [inventory] [           main] o.s.w.c.request.async.WebAsyncManager    : Started async request for "/api/products/export/excel"
Hibernate: 
    select
        p1_0.product_id,
        p1_0.name,
        p1_0.type,
        p1_0.unit_of_measure,
        p1_0.unit_price,
        p1_0.product_code,
        p1_0.current_stock,
        p1_0.availability_percentage,
        p1_0.minimum_stock,
        s1_0.supplier_id,
        s1_0.name 
    from
        product p1_0 
    left join
        supplier s1_0 
            on s1_0.supplier_id=p1_0.supplier_id 
    order by
        1 
    fetch
        first ? rows only
2026-02-25T00:11:39.299Z DEBUG 627566 --- [inventory] [         task-1] o.s.w.c.request.async.WebAsyncManager    : Async result set for "/api/products/export/excel"
2026-02-25T00:11:39.299Z DEBUG 627566 --- [inventory] [         task-1] o.s.w.c.request.async.WebAsyncManager    : Performing async dispatch for "/api/products/export/excel"
2026-02-25T00:11:39.300Z DEBUG 627566 --- [inventory] [           main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Resume with async result []
Hibernate: 
    
SET
    REFERENTIAL_INTEGRITY FALSE
Hibernate: 
    TRUNCATE TABLE allergen RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE product RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE stock_ledger RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE recipe_component RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE stock_snapshot RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE order_header RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE recipe RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE order_audit RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE order_detail RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE users RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE supplier RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE inventory_audit RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE recipe_cooking_audit RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE recipe_audit RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE recipe_allergen RESTART IDENTITY
Hibernate: 
    
SET
    REFERENTIAL_INTEGRITY TRUE
Hibernate: 
    insert 
    into
        users
        (is_first_login, is_hidden, name, password, role, "user") 
    values
        (?, ?, ?, ?, ?, ?)
2026-02-25T00:11:39.404Z DEBUG 627566 --- [inventory] [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.economato.inventory.controller.AuthController#authenticateUser(LoginRequestDTO)
2026-02-25T00:11:39.405Z DEBUG 627566 --- [inventory] [           main] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequestDTO(name=Admin, password=admin123)]
Hibernate: 
    select
        u1_0.user_id,
        u1_0.is_first_login,
        u1_0.is_hidden,
        u1_0.name,
        u1_0.password,
        u1_0.role,
        u1_0."user" 
    from
        users u1_0 
    where
        u1_0.name=?
2026-02-25T00:11:39.450Z DEBUG 627566 --- [inventory] [           main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2026-02-25T00:11:39.450Z DEBUG 627566 --- [inventory] [           main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [LoginResponseDTO(token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJBZG1pbiIsInJvbGUiOiJBRE1JTiIsImlhdCI6MTc3MTk3 (truncated)...]
Hibernate: 
    insert 
    into
        product
        (availability_percentage, current_stock, minimum_stock, name, product_code, supplier_id, type, unit_of_measure, unit_price, version) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-25T00:11:39.456Z DEBUG 627566 --- [inventory] [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.economato.inventory.controller.ProductController#createProduct(ProductRequestDTO)
2026-02-25T00:11:39.457Z DEBUG 627566 --- [inventory] [           main] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [ProductRequestDTO(name=Harina de trigo, type=Ingrediente, unit=KG, unitPrice=2.50, productCode=HAR00 (truncated)...]
Hibernate: 
    select
        p1_0.product_id 
    from
        product p1_0 
    where
        p1_0.name=? 
    fetch
        first ? rows only
Hibernate: 
    insert 
    into
        product
        (availability_percentage, current_stock, minimum_stock, name, product_code, supplier_id, type, unit_of_measure, unit_price, version) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-25T00:11:39.461Z DEBUG 627566 --- [inventory] [           main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2026-02-25T00:11:39.461Z DEBUG 627566 --- [inventory] [           main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ProductResponseDTO(id=2, name=Harina de trigo, type=Ingrediente, unit=KG, unitPrice=2.50, productCod (truncated)...]

MockHttpServletRequest:
      HTTP Method = POST
      Request URI = /api/auth/login
       Parameters = {}
          Headers = [Content-Type:"application/json;charset=UTF-8", Content-Length:"38"]
             Body = {"name":"Admin","password":"admin123"}
    Session Attrs = {}

Handler:
             Type = com.economato.inventory.controller.AuthController
           Method = com.economato.inventory.controller.AuthController#authenticateUser(LoginRequestDTO)

Async:
    Async started = false
     Async result = null

Resolved Exception:
             Type = null

ModelAndView:
        View name = null
             View = null
            Model = null

FlashMap:
       Attributes = null

MockHttpServletResponse:
           Status = 200
    Error message = null
          Headers = [Vary:"Origin", "Access-Control-Request-Method", "Access-Control-Request-Headers", Content-Type:"application/json", X-Content-Type-Options:"nosniff", X-XSS-Protection:"0", Cache-Control:"no-cache, no-store, max-age=0, must-revalidate", Pragma:"no-cache", Expires:"0", X-Frame-Options:"DENY", Content-Security-Policy:"default-src 'self'; script-src 'self' 'unsafe-inline' 'unsafe-eval'; style-src 'self' 'unsafe-inline'; img-src 'self' data: https:; font-src 'self' data:; connect-src 'self'; frame-ancestors 'none'; base-uri 'self'; form-action 'self'; upgrade-insecure-requests", Referrer-Policy:"strict-origin-when-cross-origin"]
     Content type = application/json
             Body = {"token":"eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJBZG1pbiIsInJvbGUiOiJBRE1JTiIsImlhdCI6MTc3MTk3ODI5OSwiZXhwIjoxNzcxOTgxODk5fQ.m18WUSw2nDOx7FhzvhLfzQZSaS__wE3ftNhYUc4pm8U","role":"ADMIN"}
    Forwarded URL = null
   Redirected URL = null
          Cookies = []

MockHttpServletRequest:
      HTTP Method = POST
      Request URI = /api/products
       Parameters = {}
          Headers = [Content-Type:"application/json;charset=UTF-8", Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJBZG1pbiIsInJvbGUiOiJBRE1JTiIsImlhdCI6MTc3MTk3ODI5OSwiZXhwIjoxNzcxOTgxODk5fQ.m18WUSw2nDOx7FhzvhLfzQZSaS__wE3ftNhYUc4pm8U", Content-Length:"185"]
             Body = {"name":"Harina de trigo","type":"Ingrediente","unit":"KG","unitPrice":2.50,"productCode":"HAR002","currentStock":100.0,"availabilityPercentage":null,"minimumStock":0,"supplierId":null}
    Session Attrs = {}

Handler:
             Type = com.economato.inventory.controller.ProductController
           Method = com.economato.inventory.controller.ProductController#createProduct(ProductRequestDTO)

Async:
    Async started = false
     Async result = null

Resolved Exception:
             Type = null

ModelAndView:
        View name = null
             View = null
            Model = null

FlashMap:
       Attributes = null

MockHttpServletResponse:
           Status = 201
    Error message = null
          Headers = [Vary:"Origin", "Access-Control-Request-Method", "Access-Control-Request-Headers", Content-Type:"application/json", X-Content-Type-Options:"nosniff", X-XSS-Protection:"0", Cache-Control:"no-cache, no-store, max-age=0, must-revalidate", Pragma:"no-cache", Expires:"0", X-Frame-Options:"DENY", Content-Security-Policy:"default-src 'self'; script-src 'self' 'unsafe-inline' 'unsafe-eval'; style-src 'self' 'unsafe-inline'; img-src 'self' data: https:; font-src 'self' data:; connect-src 'self'; frame-ancestors 'none'; base-uri 'self'; form-action 'self'; upgrade-insecure-requests", Referrer-Policy:"strict-origin-when-cross-origin"]
     Content type = application/json
             Body = {"id":2,"name":"Harina de trigo","type":"Ingrediente","unit":"KG","unitPrice":2.50,"productCode":"HAR002","currentStock":100.0,"availabilityPercentage":null,"minimumStock":0,"supplier":null}
    Forwarded URL = null
   Redirected URL = null
          Cookies = []
Hibernate: 
    
SET
    REFERENTIAL_INTEGRITY FALSE
Hibernate: 
    TRUNCATE TABLE allergen RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE product RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE stock_ledger RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE recipe_component RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE stock_snapshot RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE order_header RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE recipe RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE order_audit RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE order_detail RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE users RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE supplier RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE inventory_audit RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE recipe_cooking_audit RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE recipe_audit RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE recipe_allergen RESTART IDENTITY
Hibernate: 
    
SET
    REFERENTIAL_INTEGRITY TRUE
Hibernate: 
    insert 
    into
        users
        (is_first_login, is_hidden, name, password, role, "user") 
    values
        (?, ?, ?, ?, ?, ?)
2026-02-25T00:11:39.554Z DEBUG 627566 --- [inventory] [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.economato.inventory.controller.AuthController#authenticateUser(LoginRequestDTO)
2026-02-25T00:11:39.554Z DEBUG 627566 --- [inventory] [           main] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequestDTO(name=Admin, password=admin123)]
Hibernate: 
    select
        u1_0.user_id,
        u1_0.is_first_login,
        u1_0.is_hidden,
        u1_0.name,
        u1_0.password,
        u1_0.role,
        u1_0."user" 
    from
        users u1_0 
    where
        u1_0.name=?
2026-02-25T00:11:39.597Z DEBUG 627566 --- [inventory] [           main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2026-02-25T00:11:39.597Z DEBUG 627566 --- [inventory] [           main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [LoginResponseDTO(token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJBZG1pbiIsInJvbGUiOiJBRE1JTiIsImlhdCI6MTc3MTk3 (truncated)...]
Hibernate: 
    insert 
    into
        product
        (availability_percentage, current_stock, minimum_stock, name, product_code, supplier_id, type, unit_of_measure, unit_price, version) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-25T00:11:39.603Z DEBUG 627566 --- [inventory] [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.economato.inventory.controller.ProductController#getByCodebar(String)
Hibernate: 
    select
        p1_0.product_id,
        p1_0.name,
        p1_0.type,
        p1_0.unit_of_measure,
        p1_0.unit_price,
        p1_0.product_code,
        p1_0.current_stock,
        p1_0.availability_percentage,
        p1_0.minimum_stock,
        s1_0.supplier_id,
        s1_0.name 
    from
        product p1_0 
    left join
        supplier s1_0 
            on s1_0.supplier_id=p1_0.supplier_id 
    where
        p1_0.product_code=?
2026-02-25T00:11:39.606Z DEBUG 627566 --- [inventory] [           main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2026-02-25T00:11:39.606Z DEBUG 627566 --- [inventory] [           main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Nothing to write: null body
Hibernate: 
    
SET
    REFERENTIAL_INTEGRITY FALSE
Hibernate: 
    TRUNCATE TABLE allergen RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE product RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE stock_ledger RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE recipe_component RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE stock_snapshot RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE order_header RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE recipe RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE order_audit RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE order_detail RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE users RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE supplier RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE inventory_audit RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE recipe_cooking_audit RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE recipe_audit RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE recipe_allergen RESTART IDENTITY
Hibernate: 
    
SET
    REFERENTIAL_INTEGRITY TRUE
Hibernate: 
    insert 
    into
        users
        (is_first_login, is_hidden, name, password, role, "user") 
    values
        (?, ?, ?, ?, ?, ?)
2026-02-25T00:11:39.699Z DEBUG 627566 --- [inventory] [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.economato.inventory.controller.AuthController#authenticateUser(LoginRequestDTO)
2026-02-25T00:11:39.700Z DEBUG 627566 --- [inventory] [           main] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequestDTO(name=Admin, password=admin123)]
Hibernate: 
    select
        u1_0.user_id,
        u1_0.is_first_login,
        u1_0.is_hidden,
        u1_0.name,
        u1_0.password,
        u1_0.role,
        u1_0."user" 
    from
        users u1_0 
    where
        u1_0.name=?
2026-02-25T00:11:39.743Z DEBUG 627566 --- [inventory] [           main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2026-02-25T00:11:39.743Z DEBUG 627566 --- [inventory] [           main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [LoginResponseDTO(token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJBZG1pbiIsInJvbGUiOiJBRE1JTiIsImlhdCI6MTc3MTk3 (truncated)...]
Hibernate: 
    insert 
    into
        product
        (availability_percentage, current_stock, minimum_stock, name, product_code, supplier_id, type, unit_of_measure, unit_price, version) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-25T00:11:39.748Z DEBUG 627566 --- [inventory] [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.economato.inventory.controller.ProductController#createProduct(ProductRequestDTO)
2026-02-25T00:11:39.748Z DEBUG 627566 --- [inventory] [           main] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [ProductRequestDTO(name=Harina de trigo, type=Ingrediente, unit=KG, unitPrice=2.50, productCode=HAR00 (truncated)...]
Hibernate: 
    select
        p1_0.product_id 
    from
        product p1_0 
    where
        p1_0.name=? 
    fetch
        first ? rows only
Hibernate: 
    insert 
    into
        product
        (availability_percentage, current_stock, minimum_stock, name, product_code, supplier_id, type, unit_of_measure, unit_price, version) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-25T00:11:39.751Z DEBUG 627566 --- [inventory] [           main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2026-02-25T00:11:39.751Z DEBUG 627566 --- [inventory] [           main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ProductResponseDTO(id=2, name=Harina de trigo, type=Ingrediente, unit=KG, unitPrice=2.50, productCod (truncated)...]

MockHttpServletRequest:
      HTTP Method = POST
      Request URI = /api/auth/login
       Parameters = {}
          Headers = [Content-Type:"application/json;charset=UTF-8", Content-Length:"38"]
             Body = {"name":"Admin","password":"admin123"}
    Session Attrs = {}

Handler:
             Type = com.economato.inventory.controller.AuthController
           Method = com.economato.inventory.controller.AuthController#authenticateUser(LoginRequestDTO)

Async:
    Async started = false
     Async result = null

Resolved Exception:
             Type = null

ModelAndView:
        View name = null
             View = null
            Model = null

FlashMap:
       Attributes = null

MockHttpServletResponse:
           Status = 200
    Error message = null
          Headers = [Vary:"Origin", "Access-Control-Request-Method", "Access-Control-Request-Headers", Content-Type:"application/json", X-Content-Type-Options:"nosniff", X-XSS-Protection:"0", Cache-Control:"no-cache, no-store, max-age=0, must-revalidate", Pragma:"no-cache", Expires:"0", X-Frame-Options:"DENY", Content-Security-Policy:"default-src 'self'; script-src 'self' 'unsafe-inline' 'unsafe-eval'; style-src 'self' 'unsafe-inline'; img-src 'self' data: https:; font-src 'self' data:; connect-src 'self'; frame-ancestors 'none'; base-uri 'self'; form-action 'self'; upgrade-insecure-requests", Referrer-Policy:"strict-origin-when-cross-origin"]
     Content type = application/json
             Body = {"token":"eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJBZG1pbiIsInJvbGUiOiJBRE1JTiIsImlhdCI6MTc3MTk3ODI5OSwiZXhwIjoxNzcxOTgxODk5fQ.m18WUSw2nDOx7FhzvhLfzQZSaS__wE3ftNhYUc4pm8U","role":"ADMIN"}
    Forwarded URL = null
   Redirected URL = null
          Cookies = []

MockHttpServletRequest:
      HTTP Method = POST
      Request URI = /api/products
       Parameters = {}
          Headers = [Content-Type:"application/json;charset=UTF-8", Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJBZG1pbiIsInJvbGUiOiJBRE1JTiIsImlhdCI6MTc3MTk3ODI5OSwiZXhwIjoxNzcxOTgxODk5fQ.m18WUSw2nDOx7FhzvhLfzQZSaS__wE3ftNhYUc4pm8U", Content-Length:"185"]
             Body = {"name":"Harina de trigo","type":"Ingrediente","unit":"KG","unitPrice":2.50,"productCode":"HAR002","currentStock":200.0,"availabilityPercentage":null,"minimumStock":0,"supplierId":null}
    Session Attrs = {}

Handler:
             Type = com.economato.inventory.controller.ProductController
           Method = com.economato.inventory.controller.ProductController#createProduct(ProductRequestDTO)

Async:
    Async started = false
     Async result = null

Resolved Exception:
             Type = null

ModelAndView:
        View name = null
             View = null
            Model = null

FlashMap:
       Attributes = null

MockHttpServletResponse:
           Status = 201
    Error message = null
          Headers = [Vary:"Origin", "Access-Control-Request-Method", "Access-Control-Request-Headers", Content-Type:"application/json", X-Content-Type-Options:"nosniff", X-XSS-Protection:"0", Cache-Control:"no-cache, no-store, max-age=0, must-revalidate", Pragma:"no-cache", Expires:"0", X-Frame-Options:"DENY", Content-Security-Policy:"default-src 'self'; script-src 'self' 'unsafe-inline' 'unsafe-eval'; style-src 'self' 'unsafe-inline'; img-src 'self' data: https:; font-src 'self' data:; connect-src 'self'; frame-ancestors 'none'; base-uri 'self'; form-action 'self'; upgrade-insecure-requests", Referrer-Policy:"strict-origin-when-cross-origin"]
     Content type = application/json
             Body = {"id":2,"name":"Harina de trigo","type":"Ingrediente","unit":"KG","unitPrice":2.50,"productCode":"HAR002","currentStock":200.0,"availabilityPercentage":null,"minimumStock":0,"supplier":null}
    Forwarded URL = null
   Redirected URL = null
          Cookies = []
Hibernate: 
    
SET
    REFERENTIAL_INTEGRITY FALSE
Hibernate: 
    TRUNCATE TABLE allergen RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE product RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE stock_ledger RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE recipe_component RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE stock_snapshot RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE order_header RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE recipe RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE order_audit RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE order_detail RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE users RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE supplier RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE inventory_audit RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE recipe_cooking_audit RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE recipe_audit RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE recipe_allergen RESTART IDENTITY
Hibernate: 
    
SET
    REFERENTIAL_INTEGRITY TRUE
Hibernate: 
    insert 
    into
        users
        (is_first_login, is_hidden, name, password, role, "user") 
    values
        (?, ?, ?, ?, ?, ?)
2026-02-25T00:11:39.842Z DEBUG 627566 --- [inventory] [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.economato.inventory.controller.AuthController#authenticateUser(LoginRequestDTO)
2026-02-25T00:11:39.842Z DEBUG 627566 --- [inventory] [           main] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequestDTO(name=Admin, password=admin123)]
Hibernate: 
    select
        u1_0.user_id,
        u1_0.is_first_login,
        u1_0.is_hidden,
        u1_0.name,
        u1_0.password,
        u1_0.role,
        u1_0."user" 
    from
        users u1_0 
    where
        u1_0.name=?
2026-02-25T00:11:39.886Z DEBUG 627566 --- [inventory] [           main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2026-02-25T00:11:39.886Z DEBUG 627566 --- [inventory] [           main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [LoginResponseDTO(token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJBZG1pbiIsInJvbGUiOiJBRE1JTiIsImlhdCI6MTc3MTk3 (truncated)...]
Hibernate: 
    insert 
    into
        product
        (availability_percentage, current_stock, minimum_stock, name, product_code, supplier_id, type, unit_of_measure, unit_price, version) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-25T00:11:39.891Z DEBUG 627566 --- [inventory] [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.economato.inventory.controller.ProductController#createProduct(ProductRequestDTO)
2026-02-25T00:11:39.891Z DEBUG 627566 --- [inventory] [           main] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [ProductRequestDTO(name=Harina de trigo, type=Ingrediente, unit=KG, unitPrice=2.50, productCode=HAR00 (truncated)...]
Hibernate: 
    select
        p1_0.product_id 
    from
        product p1_0 
    where
        p1_0.name=? 
    fetch
        first ? rows only
Hibernate: 
    insert 
    into
        product
        (availability_percentage, current_stock, minimum_stock, name, product_code, supplier_id, type, unit_of_measure, unit_price, version) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-25T00:11:39.895Z DEBUG 627566 --- [inventory] [           main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2026-02-25T00:11:39.895Z DEBUG 627566 --- [inventory] [           main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ProductResponseDTO(id=2, name=Harina de trigo, type=Ingrediente, unit=KG, unitPrice=2.50, productCod (truncated)...]

MockHttpServletRequest:
      HTTP Method = POST
      Request URI = /api/auth/login
       Parameters = {}
          Headers = [Content-Type:"application/json;charset=UTF-8", Content-Length:"38"]
             Body = {"name":"Admin","password":"admin123"}
    Session Attrs = {}

Handler:
             Type = com.economato.inventory.controller.AuthController
           Method = com.economato.inventory.controller.AuthController#authenticateUser(LoginRequestDTO)

Async:
    Async started = false
     Async result = null

Resolved Exception:
             Type = null

ModelAndView:
        View name = null
             View = null
            Model = null

FlashMap:
       Attributes = null

MockHttpServletResponse:
           Status = 200
    Error message = null
          Headers = [Vary:"Origin", "Access-Control-Request-Method", "Access-Control-Request-Headers", Content-Type:"application/json", X-Content-Type-Options:"nosniff", X-XSS-Protection:"0", Cache-Control:"no-cache, no-store, max-age=0, must-revalidate", Pragma:"no-cache", Expires:"0", X-Frame-Options:"DENY", Content-Security-Policy:"default-src 'self'; script-src 'self' 'unsafe-inline' 'unsafe-eval'; style-src 'self' 'unsafe-inline'; img-src 'self' data: https:; font-src 'self' data:; connect-src 'self'; frame-ancestors 'none'; base-uri 'self'; form-action 'self'; upgrade-insecure-requests", Referrer-Policy:"strict-origin-when-cross-origin"]
     Content type = application/json
             Body = {"token":"eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJBZG1pbiIsInJvbGUiOiJBRE1JTiIsImlhdCI6MTc3MTk3ODI5OSwiZXhwIjoxNzcxOTgxODk5fQ.m18WUSw2nDOx7FhzvhLfzQZSaS__wE3ftNhYUc4pm8U","role":"ADMIN"}
    Forwarded URL = null
   Redirected URL = null
          Cookies = []

MockHttpServletRequest:
      HTTP Method = POST
      Request URI = /api/products
       Parameters = {}
          Headers = [Content-Type:"application/json;charset=UTF-8", Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJBZG1pbiIsInJvbGUiOiJBRE1JTiIsImlhdCI6MTc3MTk3ODI5OSwiZXhwIjoxNzcxOTgxODk5fQ.m18WUSw2nDOx7FhzvhLfzQZSaS__wE3ftNhYUc4pm8U", Content-Length:"185"]
             Body = {"name":"Harina de trigo","type":"Ingrediente","unit":"KG","unitPrice":2.50,"productCode":"HAR002","currentStock":100.0,"availabilityPercentage":null,"minimumStock":0,"supplierId":null}
    Session Attrs = {}

Handler:
             Type = com.economato.inventory.controller.ProductController
           Method = com.economato.inventory.controller.ProductController#createProduct(ProductRequestDTO)

Async:
    Async started = false
     Async result = null

Resolved Exception:
             Type = null

ModelAndView:
        View name = null
             View = null
            Model = null

FlashMap:
       Attributes = null

MockHttpServletResponse:
           Status = 201
    Error message = null
          Headers = [Vary:"Origin", "Access-Control-Request-Method", "Access-Control-Request-Headers", Content-Type:"application/json", X-Content-Type-Options:"nosniff", X-XSS-Protection:"0", Cache-Control:"no-cache, no-store, max-age=0, must-revalidate", Pragma:"no-cache", Expires:"0", X-Frame-Options:"DENY", Content-Security-Policy:"default-src 'self'; script-src 'self' 'unsafe-inline' 'unsafe-eval'; style-src 'self' 'unsafe-inline'; img-src 'self' data: https:; font-src 'self' data:; connect-src 'self'; frame-ancestors 'none'; base-uri 'self'; form-action 'self'; upgrade-insecure-requests", Referrer-Policy:"strict-origin-when-cross-origin"]
     Content type = application/json
             Body = {"id":2,"name":"Harina de trigo","type":"Ingrediente","unit":"KG","unitPrice":2.50,"productCode":"HAR002","currentStock":100.0,"availabilityPercentage":null,"minimumStock":0,"supplier":null}
    Forwarded URL = null
   Redirected URL = null
          Cookies = []
Hibernate: 
    
SET
    REFERENTIAL_INTEGRITY FALSE
Hibernate: 
    TRUNCATE TABLE allergen RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE product RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE stock_ledger RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE recipe_component RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE stock_snapshot RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE order_header RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE recipe RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE order_audit RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE order_detail RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE users RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE supplier RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE inventory_audit RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE recipe_cooking_audit RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE recipe_audit RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE recipe_allergen RESTART IDENTITY
Hibernate: 
    
SET
    REFERENTIAL_INTEGRITY TRUE
Hibernate: 
    insert 
    into
        users
        (is_first_login, is_hidden, name, password, role, "user") 
    values
        (?, ?, ?, ?, ?, ?)
2026-02-25T00:11:39.985Z DEBUG 627566 --- [inventory] [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.economato.inventory.controller.AuthController#authenticateUser(LoginRequestDTO)
2026-02-25T00:11:39.985Z DEBUG 627566 --- [inventory] [           main] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequestDTO(name=Admin, password=admin123)]
Hibernate: 
    select
        u1_0.user_id,
        u1_0.is_first_login,
        u1_0.is_hidden,
        u1_0.name,
        u1_0.password,
        u1_0.role,
        u1_0."user" 
    from
        users u1_0 
    where
        u1_0.name=?
2026-02-25T00:11:40.028Z DEBUG 627566 --- [inventory] [           main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2026-02-25T00:11:40.028Z DEBUG 627566 --- [inventory] [           main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [LoginResponseDTO(token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJBZG1pbiIsInJvbGUiOiJBRE1JTiIsImlhdCI6MTc3MTk3 (truncated)...]
Hibernate: 
    insert 
    into
        product
        (availability_percentage, current_stock, minimum_stock, name, product_code, supplier_id, type, unit_of_measure, unit_price, version) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-25T00:11:40.033Z DEBUG 627566 --- [inventory] [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.economato.inventory.controller.ProductController#createProduct(ProductRequestDTO)
2026-02-25T00:11:40.033Z DEBUG 627566 --- [inventory] [           main] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [ProductRequestDTO(name=Harina de trigo, type=Ingrediente, unit=KG, unitPrice=2.50, productCode=HAR00 (truncated)...]
Hibernate: 
    select
        p1_0.product_id 
    from
        product p1_0 
    where
        p1_0.name=? 
    fetch
        first ? rows only
Hibernate: 
    insert 
    into
        product
        (availability_percentage, current_stock, minimum_stock, name, product_code, supplier_id, type, unit_of_measure, unit_price, version) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-25T00:11:40.036Z DEBUG 627566 --- [inventory] [           main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2026-02-25T00:11:40.036Z DEBUG 627566 --- [inventory] [           main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ProductResponseDTO(id=2, name=Harina de trigo, type=Ingrediente, unit=KG, unitPrice=2.50, productCod (truncated)...]

MockHttpServletRequest:
      HTTP Method = POST
      Request URI = /api/auth/login
       Parameters = {}
          Headers = [Content-Type:"application/json;charset=UTF-8", Content-Length:"38"]
             Body = {"name":"Admin","password":"admin123"}
    Session Attrs = {}

Handler:
             Type = com.economato.inventory.controller.AuthController
           Method = com.economato.inventory.controller.AuthController#authenticateUser(LoginRequestDTO)

Async:
    Async started = false
     Async result = null

Resolved Exception:
             Type = null

ModelAndView:
        View name = null
             View = null
            Model = null

FlashMap:
       Attributes = null

MockHttpServletResponse:
           Status = 200
    Error message = null
          Headers = [Vary:"Origin", "Access-Control-Request-Method", "Access-Control-Request-Headers", Content-Type:"application/json", X-Content-Type-Options:"nosniff", X-XSS-Protection:"0", Cache-Control:"no-cache, no-store, max-age=0, must-revalidate", Pragma:"no-cache", Expires:"0", X-Frame-Options:"DENY", Content-Security-Policy:"default-src 'self'; script-src 'self' 'unsafe-inline' 'unsafe-eval'; style-src 'self' 'unsafe-inline'; img-src 'self' data: https:; font-src 'self' data:; connect-src 'self'; frame-ancestors 'none'; base-uri 'self'; form-action 'self'; upgrade-insecure-requests", Referrer-Policy:"strict-origin-when-cross-origin"]
     Content type = application/json
             Body = {"token":"eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJBZG1pbiIsInJvbGUiOiJBRE1JTiIsImlhdCI6MTc3MTk3ODMwMCwiZXhwIjoxNzcxOTgxOTAwfQ.9gBBb7yVz6A92RRODvgDyf92BCuAoMvXGUBLPZu9Q1k","role":"ADMIN"}
    Forwarded URL = null
   Redirected URL = null
          Cookies = []

MockHttpServletRequest:
      HTTP Method = POST
      Request URI = /api/products
       Parameters = {}
          Headers = [Content-Type:"application/json;charset=UTF-8", Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJBZG1pbiIsInJvbGUiOiJBRE1JTiIsImlhdCI6MTc3MTk3ODMwMCwiZXhwIjoxNzcxOTgxOTAwfQ.9gBBb7yVz6A92RRODvgDyf92BCuAoMvXGUBLPZu9Q1k", Content-Length:"185"]
             Body = {"name":"Harina de trigo","type":"Ingrediente","unit":"KG","unitPrice":2.50,"productCode":"HAR002","currentStock":100.0,"availabilityPercentage":null,"minimumStock":0,"supplierId":null}
    Session Attrs = {}

Handler:
             Type = com.economato.inventory.controller.ProductController
           Method = com.economato.inventory.controller.ProductController#createProduct(ProductRequestDTO)

Async:
    Async started = false
     Async result = null

Resolved Exception:
             Type = null

ModelAndView:
        View name = null
             View = null
            Model = null

FlashMap:
       Attributes = null

MockHttpServletResponse:
           Status = 201
    Error message = null
          Headers = [Vary:"Origin", "Access-Control-Request-Method", "Access-Control-Request-Headers", Content-Type:"application/json", X-Content-Type-Options:"nosniff", X-XSS-Protection:"0", Cache-Control:"no-cache, no-store, max-age=0, must-revalidate", Pragma:"no-cache", Expires:"0", X-Frame-Options:"DENY", Content-Security-Policy:"default-src 'self'; script-src 'self' 'unsafe-inline' 'unsafe-eval'; style-src 'self' 'unsafe-inline'; img-src 'self' data: https:; font-src 'self' data:; connect-src 'self'; frame-ancestors 'none'; base-uri 'self'; form-action 'self'; upgrade-insecure-requests", Referrer-Policy:"strict-origin-when-cross-origin"]
     Content type = application/json
             Body = {"id":2,"name":"Harina de trigo","type":"Ingrediente","unit":"KG","unitPrice":2.50,"productCode":"HAR002","currentStock":100.0,"availabilityPercentage":null,"minimumStock":0,"supplier":null}
    Forwarded URL = null
   Redirected URL = null
          Cookies = []
Hibernate: 
    
SET
    REFERENTIAL_INTEGRITY FALSE
Hibernate: 
    TRUNCATE TABLE allergen RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE product RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE stock_ledger RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE recipe_component RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE stock_snapshot RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE order_header RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE recipe RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE order_audit RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE order_detail RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE users RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE supplier RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE inventory_audit RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE recipe_cooking_audit RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE recipe_audit RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE recipe_allergen RESTART IDENTITY
Hibernate: 
    
SET
    REFERENTIAL_INTEGRITY TRUE
Hibernate: 
    insert 
    into
        users
        (is_first_login, is_hidden, name, password, role, "user") 
    values
        (?, ?, ?, ?, ?, ?)
2026-02-25T00:11:40.125Z DEBUG 627566 --- [inventory] [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.economato.inventory.controller.AuthController#authenticateUser(LoginRequestDTO)
2026-02-25T00:11:40.126Z DEBUG 627566 --- [inventory] [           main] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequestDTO(name=Admin, password=admin123)]
Hibernate: 
    select
        u1_0.user_id,
        u1_0.is_first_login,
        u1_0.is_hidden,
        u1_0.name,
        u1_0.password,
        u1_0.role,
        u1_0."user" 
    from
        users u1_0 
    where
        u1_0.name=?
2026-02-25T00:11:40.168Z DEBUG 627566 --- [inventory] [           main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2026-02-25T00:11:40.169Z DEBUG 627566 --- [inventory] [           main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [LoginResponseDTO(token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJBZG1pbiIsInJvbGUiOiJBRE1JTiIsImlhdCI6MTc3MTk3 (truncated)...]
Hibernate: 
    insert 
    into
        product
        (availability_percentage, current_stock, minimum_stock, name, product_code, supplier_id, type, unit_of_measure, unit_price, version) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-25T00:11:40.173Z DEBUG 627566 --- [inventory] [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.economato.inventory.controller.ProductController#createProduct(ProductRequestDTO)
2026-02-25T00:11:40.174Z DEBUG 627566 --- [inventory] [           main] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [ProductRequestDTO(name=Leche Desnatada, type=Ingrediente, unit=KG, unitPrice=2.50, productCode=CODE0 (truncated)...]
Hibernate: 
    select
        p1_0.product_id 
    from
        product p1_0 
    where
        p1_0.name=? 
    fetch
        first ? rows only
Hibernate: 
    insert 
    into
        product
        (availability_percentage, current_stock, minimum_stock, name, product_code, supplier_id, type, unit_of_measure, unit_price, version) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-25T00:11:40.177Z DEBUG 627566 --- [inventory] [           main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2026-02-25T00:11:40.177Z DEBUG 627566 --- [inventory] [           main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ProductResponseDTO(id=2, name=Leche Desnatada, type=Ingrediente, unit=KG, unitPrice=2.50, productCod (truncated)...]

MockHttpServletRequest:
      HTTP Method = POST
      Request URI = /api/auth/login
       Parameters = {}
          Headers = [Content-Type:"application/json;charset=UTF-8", Content-Length:"38"]
             Body = {"name":"Admin","password":"admin123"}
    Session Attrs = {}

Handler:
             Type = com.economato.inventory.controller.AuthController
           Method = com.economato.inventory.controller.AuthController#authenticateUser(LoginRequestDTO)

Async:
    Async started = false
     Async result = null

Resolved Exception:
             Type = null

ModelAndView:
        View name = null
             View = null
            Model = null

FlashMap:
       Attributes = null

MockHttpServletResponse:
           Status = 200
    Error message = null
          Headers = [Vary:"Origin", "Access-Control-Request-Method", "Access-Control-Request-Headers", Content-Type:"application/json", X-Content-Type-Options:"nosniff", X-XSS-Protection:"0", Cache-Control:"no-cache, no-store, max-age=0, must-revalidate", Pragma:"no-cache", Expires:"0", X-Frame-Options:"DENY", Content-Security-Policy:"default-src 'self'; script-src 'self' 'unsafe-inline' 'unsafe-eval'; style-src 'self' 'unsafe-inline'; img-src 'self' data: https:; font-src 'self' data:; connect-src 'self'; frame-ancestors 'none'; base-uri 'self'; form-action 'self'; upgrade-insecure-requests", Referrer-Policy:"strict-origin-when-cross-origin"]
     Content type = application/json
             Body = {"token":"eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJBZG1pbiIsInJvbGUiOiJBRE1JTiIsImlhdCI6MTc3MTk3ODMwMCwiZXhwIjoxNzcxOTgxOTAwfQ.9gBBb7yVz6A92RRODvgDyf92BCuAoMvXGUBLPZu9Q1k","role":"ADMIN"}
    Forwarded URL = null
   Redirected URL = null
          Cookies = []

MockHttpServletRequest:
      HTTP Method = POST
      Request URI = /api/products
       Parameters = {}
          Headers = [Content-Type:"application/json;charset=UTF-8", Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJBZG1pbiIsInJvbGUiOiJBRE1JTiIsImlhdCI6MTc3MTk3ODMwMCwiZXhwIjoxNzcxOTgxOTAwfQ.9gBBb7yVz6A92RRODvgDyf92BCuAoMvXGUBLPZu9Q1k", Content-Length:"186"]
             Body = {"name":"Leche Desnatada","type":"Ingrediente","unit":"KG","unitPrice":2.50,"productCode":"CODE001","currentStock":100.0,"availabilityPercentage":null,"minimumStock":0,"supplierId":null}
    Session Attrs = {}

Handler:
             Type = com.economato.inventory.controller.ProductController
           Method = com.economato.inventory.controller.ProductController#createProduct(ProductRequestDTO)

Async:
    Async started = false
     Async result = null

Resolved Exception:
             Type = null

ModelAndView:
        View name = null
             View = null
            Model = null

FlashMap:
       Attributes = null

MockHttpServletResponse:
           Status = 201
    Error message = null
          Headers = [Vary:"Origin", "Access-Control-Request-Method", "Access-Control-Request-Headers", Content-Type:"application/json", X-Content-Type-Options:"nosniff", X-XSS-Protection:"0", Cache-Control:"no-cache, no-store, max-age=0, must-revalidate", Pragma:"no-cache", Expires:"0", X-Frame-Options:"DENY", Content-Security-Policy:"default-src 'self'; script-src 'self' 'unsafe-inline' 'unsafe-eval'; style-src 'self' 'unsafe-inline'; img-src 'self' data: https:; font-src 'self' data:; connect-src 'self'; frame-ancestors 'none'; base-uri 'self'; form-action 'self'; upgrade-insecure-requests", Referrer-Policy:"strict-origin-when-cross-origin"]
     Content type = application/json
             Body = {"id":2,"name":"Leche Desnatada","type":"Ingrediente","unit":"KG","unitPrice":2.50,"productCode":"CODE001","currentStock":100.0,"availabilityPercentage":null,"minimumStock":0,"supplier":null}
    Forwarded URL = null
   Redirected URL = null
          Cookies = []
Hibernate: 
    
SET
    REFERENTIAL_INTEGRITY FALSE
Hibernate: 
    TRUNCATE TABLE allergen RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE product RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE stock_ledger RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE recipe_component RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE stock_snapshot RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE order_header RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE recipe RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE order_audit RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE order_detail RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE users RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE supplier RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE inventory_audit RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE recipe_cooking_audit RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE recipe_audit RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE recipe_allergen RESTART IDENTITY
Hibernate: 
    
SET
    REFERENTIAL_INTEGRITY TRUE
Hibernate: 
    insert 
    into
        users
        (is_first_login, is_hidden, name, password, role, "user") 
    values
        (?, ?, ?, ?, ?, ?)
2026-02-25T00:11:40.267Z DEBUG 627566 --- [inventory] [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.economato.inventory.controller.AuthController#authenticateUser(LoginRequestDTO)
2026-02-25T00:11:40.268Z DEBUG 627566 --- [inventory] [           main] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequestDTO(name=Admin, password=admin123)]
Hibernate: 
    select
        u1_0.user_id,
        u1_0.is_first_login,
        u1_0.is_hidden,
        u1_0.name,
        u1_0.password,
        u1_0.role,
        u1_0."user" 
    from
        users u1_0 
    where
        u1_0.name=?
2026-02-25T00:11:40.310Z DEBUG 627566 --- [inventory] [           main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2026-02-25T00:11:40.310Z DEBUG 627566 --- [inventory] [           main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [LoginResponseDTO(token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJBZG1pbiIsInJvbGUiOiJBRE1JTiIsImlhdCI6MTc3MTk3 (truncated)...]
Hibernate: 
    insert 
    into
        product
        (availability_percentage, current_stock, minimum_stock, name, product_code, supplier_id, type, unit_of_measure, unit_price, version) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-25T00:11:40.315Z DEBUG 627566 --- [inventory] [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.economato.inventory.controller.ProductController#createProduct(ProductRequestDTO)
2026-02-25T00:11:40.315Z DEBUG 627566 --- [inventory] [           main] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [ProductRequestDTO(name=Harina de trigo, type=Ingrediente, unit=KG, unitPrice=2.50, productCode=HAR00 (truncated)...]
Hibernate: 
    select
        p1_0.product_id 
    from
        product p1_0 
    where
        p1_0.name=? 
    fetch
        first ? rows only
Hibernate: 
    insert 
    into
        product
        (availability_percentage, current_stock, minimum_stock, name, product_code, supplier_id, type, unit_of_measure, unit_price, version) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-25T00:11:40.318Z DEBUG 627566 --- [inventory] [           main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2026-02-25T00:11:40.318Z DEBUG 627566 --- [inventory] [           main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ProductResponseDTO(id=2, name=Harina de trigo, type=Ingrediente, unit=KG, unitPrice=2.50, productCod (truncated)...]

MockHttpServletRequest:
      HTTP Method = POST
      Request URI = /api/auth/login
       Parameters = {}
          Headers = [Content-Type:"application/json;charset=UTF-8", Content-Length:"38"]
             Body = {"name":"Admin","password":"admin123"}
    Session Attrs = {}

Handler:
             Type = com.economato.inventory.controller.AuthController
           Method = com.economato.inventory.controller.AuthController#authenticateUser(LoginRequestDTO)

Async:
    Async started = false
     Async result = null

Resolved Exception:
             Type = null

ModelAndView:
        View name = null
             View = null
            Model = null

FlashMap:
       Attributes = null

MockHttpServletResponse:
           Status = 200
    Error message = null
          Headers = [Vary:"Origin", "Access-Control-Request-Method", "Access-Control-Request-Headers", Content-Type:"application/json", X-Content-Type-Options:"nosniff", X-XSS-Protection:"0", Cache-Control:"no-cache, no-store, max-age=0, must-revalidate", Pragma:"no-cache", Expires:"0", X-Frame-Options:"DENY", Content-Security-Policy:"default-src 'self'; script-src 'self' 'unsafe-inline' 'unsafe-eval'; style-src 'self' 'unsafe-inline'; img-src 'self' data: https:; font-src 'self' data:; connect-src 'self'; frame-ancestors 'none'; base-uri 'self'; form-action 'self'; upgrade-insecure-requests", Referrer-Policy:"strict-origin-when-cross-origin"]
     Content type = application/json
             Body = {"token":"eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJBZG1pbiIsInJvbGUiOiJBRE1JTiIsImlhdCI6MTc3MTk3ODMwMCwiZXhwIjoxNzcxOTgxOTAwfQ.9gBBb7yVz6A92RRODvgDyf92BCuAoMvXGUBLPZu9Q1k","role":"ADMIN"}
    Forwarded URL = null
   Redirected URL = null
          Cookies = []

MockHttpServletRequest:
      HTTP Method = POST
      Request URI = /api/products
       Parameters = {}
          Headers = [Content-Type:"application/json;charset=UTF-8", Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJBZG1pbiIsInJvbGUiOiJBRE1JTiIsImlhdCI6MTc3MTk3ODMwMCwiZXhwIjoxNzcxOTgxOTAwfQ.9gBBb7yVz6A92RRODvgDyf92BCuAoMvXGUBLPZu9Q1k", Content-Length:"185"]
             Body = {"name":"Harina de trigo","type":"Ingrediente","unit":"KG","unitPrice":2.50,"productCode":"HAR002","currentStock":100.0,"availabilityPercentage":null,"minimumStock":0,"supplierId":null}
    Session Attrs = {}

Handler:
             Type = com.economato.inventory.controller.ProductController
           Method = com.economato.inventory.controller.ProductController#createProduct(ProductRequestDTO)

Async:
    Async started = false
     Async result = null

Resolved Exception:
             Type = null

ModelAndView:
        View name = null
             View = null
            Model = null

FlashMap:
       Attributes = null

MockHttpServletResponse:
           Status = 201
    Error message = null
          Headers = [Vary:"Origin", "Access-Control-Request-Method", "Access-Control-Request-Headers", Content-Type:"application/json", X-Content-Type-Options:"nosniff", X-XSS-Protection:"0", Cache-Control:"no-cache, no-store, max-age=0, must-revalidate", Pragma:"no-cache", Expires:"0", X-Frame-Options:"DENY", Content-Security-Policy:"default-src 'self'; script-src 'self' 'unsafe-inline' 'unsafe-eval'; style-src 'self' 'unsafe-inline'; img-src 'self' data: https:; font-src 'self' data:; connect-src 'self'; frame-ancestors 'none'; base-uri 'self'; form-action 'self'; upgrade-insecure-requests", Referrer-Policy:"strict-origin-when-cross-origin"]
     Content type = application/json
             Body = {"id":2,"name":"Harina de trigo","type":"Ingrediente","unit":"KG","unitPrice":2.50,"productCode":"HAR002","currentStock":100.0,"availabilityPercentage":null,"minimumStock":0,"supplier":null}
    Forwarded URL = null
   Redirected URL = null
          Cookies = []
Hibernate: 
    
SET
    REFERENTIAL_INTEGRITY FALSE
Hibernate: 
    TRUNCATE TABLE allergen RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE product RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE stock_ledger RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE recipe_component RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE stock_snapshot RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE order_header RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE recipe RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE order_audit RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE order_detail RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE users RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE supplier RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE inventory_audit RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE recipe_cooking_audit RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE recipe_audit RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE recipe_allergen RESTART IDENTITY
Hibernate: 
    
SET
    REFERENTIAL_INTEGRITY TRUE
Hibernate: 
    insert 
    into
        users
        (is_first_login, is_hidden, name, password, role, "user") 
    values
        (?, ?, ?, ?, ?, ?)
2026-02-25T00:11:40.409Z DEBUG 627566 --- [inventory] [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.economato.inventory.controller.AuthController#authenticateUser(LoginRequestDTO)
2026-02-25T00:11:40.410Z DEBUG 627566 --- [inventory] [           main] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequestDTO(name=Admin, password=admin123)]
Hibernate: 
    select
        u1_0.user_id,
        u1_0.is_first_login,
        u1_0.is_hidden,
        u1_0.name,
        u1_0.password,
        u1_0.role,
        u1_0."user" 
    from
        users u1_0 
    where
        u1_0.name=?
2026-02-25T00:11:40.454Z DEBUG 627566 --- [inventory] [           main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2026-02-25T00:11:40.455Z DEBUG 627566 --- [inventory] [           main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [LoginResponseDTO(token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJBZG1pbiIsInJvbGUiOiJBRE1JTiIsImlhdCI6MTc3MTk3 (truncated)...]
Hibernate: 
    insert 
    into
        product
        (availability_percentage, current_stock, minimum_stock, name, product_code, supplier_id, type, unit_of_measure, unit_price, version) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-25T00:11:40.460Z DEBUG 627566 --- [inventory] [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.economato.inventory.controller.ProductController#createProduct(ProductRequestDTO)
2026-02-25T00:11:40.460Z DEBUG 627566 --- [inventory] [           main] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [ProductRequestDTO(name=Harina de trigo, type=Ingrediente, unit=KG, unitPrice=2.50, productCode=HAR00 (truncated)...]
Hibernate: 
    select
        p1_0.product_id 
    from
        product p1_0 
    where
        p1_0.name=? 
    fetch
        first ? rows only
Hibernate: 
    insert 
    into
        product
        (availability_percentage, current_stock, minimum_stock, name, product_code, supplier_id, type, unit_of_measure, unit_price, version) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-25T00:11:40.464Z DEBUG 627566 --- [inventory] [           main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2026-02-25T00:11:40.464Z DEBUG 627566 --- [inventory] [           main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ProductResponseDTO(id=2, name=Harina de trigo, type=Ingrediente, unit=KG, unitPrice=2.50, productCod (truncated)...]

MockHttpServletRequest:
      HTTP Method = POST
      Request URI = /api/auth/login
       Parameters = {}
          Headers = [Content-Type:"application/json;charset=UTF-8", Content-Length:"38"]
             Body = {"name":"Admin","password":"admin123"}
    Session Attrs = {}

Handler:
             Type = com.economato.inventory.controller.AuthController
           Method = com.economato.inventory.controller.AuthController#authenticateUser(LoginRequestDTO)

Async:
    Async started = false
     Async result = null

Resolved Exception:
             Type = null

ModelAndView:
        View name = null
             View = null
            Model = null

FlashMap:
       Attributes = null

MockHttpServletResponse:
           Status = 200
    Error message = null
          Headers = [Vary:"Origin", "Access-Control-Request-Method", "Access-Control-Request-Headers", Content-Type:"application/json", X-Content-Type-Options:"nosniff", X-XSS-Protection:"0", Cache-Control:"no-cache, no-store, max-age=0, must-revalidate", Pragma:"no-cache", Expires:"0", X-Frame-Options:"DENY", Content-Security-Policy:"default-src 'self'; script-src 'self' 'unsafe-inline' 'unsafe-eval'; style-src 'self' 'unsafe-inline'; img-src 'self' data: https:; font-src 'self' data:; connect-src 'self'; frame-ancestors 'none'; base-uri 'self'; form-action 'self'; upgrade-insecure-requests", Referrer-Policy:"strict-origin-when-cross-origin"]
     Content type = application/json
             Body = {"token":"eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJBZG1pbiIsInJvbGUiOiJBRE1JTiIsImlhdCI6MTc3MTk3ODMwMCwiZXhwIjoxNzcxOTgxOTAwfQ.9gBBb7yVz6A92RRODvgDyf92BCuAoMvXGUBLPZu9Q1k","role":"ADMIN"}
    Forwarded URL = null
   Redirected URL = null
          Cookies = []

MockHttpServletRequest:
      HTTP Method = POST
      Request URI = /api/products
       Parameters = {}
          Headers = [Content-Type:"application/json;charset=UTF-8", Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJBZG1pbiIsInJvbGUiOiJBRE1JTiIsImlhdCI6MTc3MTk3ODMwMCwiZXhwIjoxNzcxOTgxOTAwfQ.9gBBb7yVz6A92RRODvgDyf92BCuAoMvXGUBLPZu9Q1k", Content-Length:"185"]
             Body = {"name":"Harina de trigo","type":"Ingrediente","unit":"KG","unitPrice":2.50,"productCode":"HAR002","currentStock":100.0,"availabilityPercentage":null,"minimumStock":0,"supplierId":null}
    Session Attrs = {}

Handler:
             Type = com.economato.inventory.controller.ProductController
           Method = com.economato.inventory.controller.ProductController#createProduct(ProductRequestDTO)

Async:
    Async started = false
     Async result = null

Resolved Exception:
             Type = null

ModelAndView:
        View name = null
             View = null
            Model = null

FlashMap:
       Attributes = null

MockHttpServletResponse:
           Status = 201
    Error message = null
          Headers = [Vary:"Origin", "Access-Control-Request-Method", "Access-Control-Request-Headers", Content-Type:"application/json", X-Content-Type-Options:"nosniff", X-XSS-Protection:"0", Cache-Control:"no-cache, no-store, max-age=0, must-revalidate", Pragma:"no-cache", Expires:"0", X-Frame-Options:"DENY", Content-Security-Policy:"default-src 'self'; script-src 'self' 'unsafe-inline' 'unsafe-eval'; style-src 'self' 'unsafe-inline'; img-src 'self' data: https:; font-src 'self' data:; connect-src 'self'; frame-ancestors 'none'; base-uri 'self'; form-action 'self'; upgrade-insecure-requests", Referrer-Policy:"strict-origin-when-cross-origin"]
     Content type = application/json
             Body = {"id":2,"name":"Harina de trigo","type":"Ingrediente","unit":"KG","unitPrice":2.50,"productCode":"HAR002","currentStock":100.0,"availabilityPercentage":null,"minimumStock":0,"supplier":null}
    Forwarded URL = null
   Redirected URL = null
          Cookies = []
Hibernate: 
    
SET
    REFERENTIAL_INTEGRITY FALSE
Hibernate: 
    TRUNCATE TABLE allergen RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE product RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE stock_ledger RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE recipe_component RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE stock_snapshot RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE order_header RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE recipe RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE order_audit RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE order_detail RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE users RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE supplier RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE inventory_audit RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE recipe_cooking_audit RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE recipe_audit RESTART IDENTITY
Hibernate: 
    TRUNCATE TABLE recipe_allergen RESTART IDENTITY
Hibernate: 
    
SET
    REFERENTIAL_INTEGRITY TRUE
Hibernate: 
    insert 
    into
        users
        (is_first_login, is_hidden, name, password, role, "user") 
    values
        (?, ?, ?, ?, ?, ?)
2026-02-25T00:11:40.552Z DEBUG 627566 --- [inventory] [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.economato.inventory.controller.AuthController#authenticateUser(LoginRequestDTO)
2026-02-25T00:11:40.553Z DEBUG 627566 --- [inventory] [           main] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequestDTO(name=Admin, password=admin123)]
Hibernate: 
    select
        u1_0.user_id,
        u1_0.is_first_login,
        u1_0.is_hidden,
        u1_0.name,
        u1_0.password,
        u1_0.role,
        u1_0."user" 
    from
        users u1_0 
    where
        u1_0.name=?
2026-02-25T00:11:40.595Z DEBUG 627566 --- [inventory] [           main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2026-02-25T00:11:40.596Z DEBUG 627566 --- [inventory] [           main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [LoginResponseDTO(token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJBZG1pbiIsInJvbGUiOiJBRE1JTiIsImlhdCI6MTc3MTk3 (truncated)...]
Hibernate: 
    insert 
    into
        product
        (availability_percentage, current_stock, minimum_stock, name, product_code, supplier_id, type, unit_of_measure, unit_price, version) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-25T00:11:40.600Z DEBUG 627566 --- [inventory] [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.economato.inventory.controller.ProductController#getAllProducts(Pageable)
Hibernate: 
    select
        p1_0.product_id,
        p1_0.name,
        p1_0.type,
        p1_0.unit_of_measure,
        p1_0.unit_price,
        p1_0.product_code,
        p1_0.current_stock,
        p1_0.availability_percentage,
        p1_0.minimum_stock,
        s1_0.supplier_id,
        s1_0.name 
    from
        product p1_0 
    left join
        supplier s1_0 
            on s1_0.supplier_id=p1_0.supplier_id 
    fetch
        first ? rows only
2026-02-25T00:11:40.612Z DEBUG 627566 --- [inventory] [           main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2026-02-25T00:11:40.612Z DEBUG 627566 --- [inventory] [           main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 1 containing com.economato.inventory.dto.response.ProductResponseDTO instances]
[ERROR] Tests run: 14, Failures: 9, Errors: 0, Skipped: 0, Time elapsed: 9.663 s <<< FAILURE! -- in com.economato.inventory.controller.ProductControllerIntegrationTest
[ERROR] com.economato.inventory.controller.ProductControllerIntegrationTest.whenCreateProductWithAliases_thenSuccess -- Time elapsed: 0.175 s <<< FAILURE!
java.lang.AssertionError: 
JSON path "$.currentStock"
Expected: is <100.0>
     but: was <100>
	at org.hamcrest.MatcherAssert.assertThat(MatcherAssert.java:20)
	at org.springframework.test.util.JsonPathExpectationsHelper.assertValue(JsonPathExpectationsHelper.java:107)
	at org.springframework.test.web.servlet.result.JsonPathResultMatchers.lambda$value$0(JsonPathResultMatchers.java:88)
	at org.springframework.test.web.servlet.MockMvc$1.andExpect(MockMvc.java:214)
	at com.economato.inventory.controller.ProductControllerIntegrationTest.whenCreateProductWithAliases_thenSuccess(ProductControllerIntegrationTest.java:468)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)

[ERROR] com.economato.inventory.controller.ProductControllerIntegrationTest.whenGetProductById_thenReturnsProduct -- Time elapsed: 0.154 s <<< FAILURE!
java.lang.AssertionError: 
JSON path "$.minimumStock"
Expected: is <0.0>
     but: was <0>
	at org.hamcrest.MatcherAssert.assertThat(MatcherAssert.java:20)
	at org.springframework.test.util.JsonPathExpectationsHelper.assertValue(JsonPathExpectationsHelper.java:107)
	at org.springframework.test.web.servlet.result.JsonPathResultMatchers.lambda$value$0(JsonPathResultMatchers.java:88)
	at org.springframework.test.web.servlet.MockMvc$1.andExpect(MockMvc.java:214)
	at com.economato.inventory.controller.ProductControllerIntegrationTest.whenGetProductById_thenReturnsProduct(ProductControllerIntegrationTest.java:122)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)

[ERROR] com.economato.inventory.controller.ProductControllerIntegrationTest.whenDeleteProduct_thenReturnsNoContent -- Time elapsed: 0.148 s <<< FAILURE!
java.lang.AssertionError: 
JSON path "$.minimumStock"
Expected: is <0.0>
     but: was <0>
	at org.hamcrest.MatcherAssert.assertThat(MatcherAssert.java:20)
	at org.springframework.test.util.JsonPathExpectationsHelper.assertValue(JsonPathExpectationsHelper.java:107)
	at org.springframework.test.web.servlet.result.JsonPathResultMatchers.lambda$value$0(JsonPathResultMatchers.java:88)
	at org.springframework.test.web.servlet.MockMvc$1.andExpect(MockMvc.java:214)
	at com.economato.inventory.controller.ProductControllerIntegrationTest.whenDeleteProduct_thenReturnsNoContent(ProductControllerIntegrationTest.java:241)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)

[ERROR] com.economato.inventory.controller.ProductControllerIntegrationTest.whenUpdateStockManually_DecreasesStock_thenRegistersInStockLedger -- Time elapsed: 0.146 s <<< FAILURE!
java.lang.AssertionError: 
JSON path "$.minimumStock"
Expected: is <0.0>
     but: was <0>
	at org.hamcrest.MatcherAssert.assertThat(MatcherAssert.java:20)
	at org.springframework.test.util.JsonPathExpectationsHelper.assertValue(JsonPathExpectationsHelper.java:107)
	at org.springframework.test.web.servlet.result.JsonPathResultMatchers.lambda$value$0(JsonPathResultMatchers.java:88)
	at org.springframework.test.web.servlet.MockMvc$1.andExpect(MockMvc.java:214)
	at com.economato.inventory.controller.ProductControllerIntegrationTest.whenUpdateStockManually_DecreasesStock_thenRegistersInStockLedger(ProductControllerIntegrationTest.java:366)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)

[ERROR] com.economato.inventory.controller.ProductControllerIntegrationTest.whenUpdateStockManually_WithoutStockChange_thenDoesNotRegister -- Time elapsed: 0.143 s <<< FAILURE!
java.lang.AssertionError: 
JSON path "$.minimumStock"
Expected: is <0.0>
     but: was <0>
	at org.hamcrest.MatcherAssert.assertThat(MatcherAssert.java:20)
	at org.springframework.test.util.JsonPathExpectationsHelper.assertValue(JsonPathExpectationsHelper.java:107)
	at org.springframework.test.web.servlet.result.JsonPathResultMatchers.lambda$value$0(JsonPathResultMatchers.java:88)
	at org.springframework.test.web.servlet.MockMvc$1.andExpect(MockMvc.java:214)
	at com.economato.inventory.controller.ProductControllerIntegrationTest.whenUpdateStockManually_WithoutStockChange_thenDoesNotRegister(ProductControllerIntegrationTest.java:329)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)

[ERROR] com.economato.inventory.controller.ProductControllerIntegrationTest.whenUpdateStockManually_WithStockChange_thenRegistersInStockLedger -- Time elapsed: 0.140 s <<< FAILURE!
java.lang.AssertionError: 
JSON path "$.minimumStock"
Expected: is <0.0>
     but: was <0>
	at org.hamcrest.MatcherAssert.assertThat(MatcherAssert.java:20)
	at org.springframework.test.util.JsonPathExpectationsHelper.assertValue(JsonPathExpectationsHelper.java:107)
	at org.springframework.test.web.servlet.result.JsonPathResultMatchers.lambda$value$0(JsonPathResultMatchers.java:88)
	at org.springframework.test.web.servlet.MockMvc$1.andExpect(MockMvc.java:214)
	at com.economato.inventory.controller.ProductControllerIntegrationTest.whenUpdateStockManually_WithStockChange_thenRegistersInStockLedger(ProductControllerIntegrationTest.java:290)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)

[ERROR] com.economato.inventory.controller.ProductControllerIntegrationTest.whenSearchProductsByName_thenReturnsMatchingProducts -- Time elapsed: 0.141 s <<< FAILURE!
java.lang.AssertionError: 
JSON path "$.minimumStock"
Expected: is <0.0>
     but: was <0>
	at org.hamcrest.MatcherAssert.assertThat(MatcherAssert.java:20)
	at org.springframework.test.util.JsonPathExpectationsHelper.assertValue(JsonPathExpectationsHelper.java:107)
	at org.springframework.test.web.servlet.result.JsonPathResultMatchers.lambda$value$0(JsonPathResultMatchers.java:88)
	at org.springframework.test.web.servlet.MockMvc$1.andExpect(MockMvc.java:214)
	at com.economato.inventory.controller.ProductControllerIntegrationTest.whenSearchProductsByName_thenReturnsMatchingProducts(ProductControllerIntegrationTest.java:167)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)

[ERROR] com.economato.inventory.controller.ProductControllerIntegrationTest.whenCreateValidProduct_thenReturnsCreatedProduct -- Time elapsed: 0.139 s <<< FAILURE!
java.lang.AssertionError: 
JSON path "$.minimumStock"
Expected: is <0.0>
     but: was <0>
	at org.hamcrest.MatcherAssert.assertThat(MatcherAssert.java:20)
	at org.springframework.test.util.JsonPathExpectationsHelper.assertValue(JsonPathExpectationsHelper.java:107)
	at org.springframework.test.web.servlet.result.JsonPathResultMatchers.lambda$value$0(JsonPathResultMatchers.java:88)
	at org.springframework.test.web.servlet.MockMvc$1.andExpect(MockMvc.java:214)
	at com.economato.inventory.controller.ProductControllerIntegrationTest.whenCreateValidProduct_thenReturnsCreatedProduct(ProductControllerIntegrationTest.java:101)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)

[ERROR] com.economato.inventory.controller.ProductControllerIntegrationTest.whenUpdateStockManually_WithInvalidData_thenReturnsBadRequest -- Time elapsed: 0.145 s <<< FAILURE!
java.lang.AssertionError: 
JSON path "$.minimumStock"
Expected: is <0.0>
     but: was <0>
	at org.hamcrest.MatcherAssert.assertThat(MatcherAssert.java:20)
	at org.springframework.test.util.JsonPathExpectationsHelper.assertValue(JsonPathExpectationsHelper.java:107)
	at org.springframework.test.web.servlet.result.JsonPathResultMatchers.lambda$value$0(JsonPathResultMatchers.java:88)
	at org.springframework.test.web.servlet.MockMvc$1.andExpect(MockMvc.java:214)
	at com.economato.inventory.controller.ProductControllerIntegrationTest.whenUpdateStockManually_WithInvalidData_thenReturnsBadRequest(ProductControllerIntegrationTest.java:404)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)

[INFO] 
[INFO] Results:
[INFO] 
[ERROR] Failures: 
[ERROR]   ProductControllerIntegrationTest.whenCreateProductWithAliases_thenSuccess:468 JSON path "$.currentStock"
Expected: is <100.0>
     but: was <100>
[ERROR]   ProductControllerIntegrationTest.whenCreateValidProduct_thenReturnsCreatedProduct:101 JSON path "$.minimumStock"
Expected: is <0.0>
     but: was <0>
[ERROR]   ProductControllerIntegrationTest.whenDeleteProduct_thenReturnsNoContent:241 JSON path "$.minimumStock"
Expected: is <0.0>
     but: was <0>
[ERROR]   ProductControllerIntegrationTest.whenGetProductById_thenReturnsProduct:122 JSON path "$.minimumStock"
Expected: is <0.0>
     but: was <0>
[ERROR]   ProductControllerIntegrationTest.whenSearchProductsByName_thenReturnsMatchingProducts:167 JSON path "$.minimumStock"
Expected: is <0.0>
     but: was <0>
[ERROR]   ProductControllerIntegrationTest.whenUpdateStockManually_DecreasesStock_thenRegistersInStockLedger:366 JSON path "$.minimumStock"
Expected: is <0.0>
     but: was <0>
[ERROR]   ProductControllerIntegrationTest.whenUpdateStockManually_WithInvalidData_thenReturnsBadRequest:404 JSON path "$.minimumStock"
Expected: is <0.0>
     but: was <0>
[ERROR]   ProductControllerIntegrationTest.whenUpdateStockManually_WithStockChange_thenRegistersInStockLedger:290 JSON path "$.minimumStock"
Expected: is <0.0>
     but: was <0>
[ERROR]   ProductControllerIntegrationTest.whenUpdateStockManually_WithoutStockChange_thenDoesNotRegister:329 JSON path "$.minimumStock"
Expected: is <0.0>
     but: was <0>
[INFO] 
[ERROR] Tests run: 14, Failures: 9, Errors: 0, Skipped: 0
[INFO] 
[INFO] ------------------------------------------------------------------------
[INFO] BUILD FAILURE
[INFO] ------------------------------------------------------------------------
[INFO] Total time:  11.137 s
[INFO] Finished at: 2026-02-25T00:11:40Z
[INFO] ------------------------------------------------------------------------
[ERROR] Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:3.5.2:test (default-test) on project inventory: There are test failures.
[ERROR] 
[ERROR] See /home/franchu/Escritorio/Cosas/turing/target/surefire-reports for the individual test results.
[ERROR] See dump files (if any exist) [date].dump, [date]-jvmRun[N].dump and [date].dumpstream.
[ERROR] -> [Help 1]
[ERROR] 
[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.
[ERROR] Re-run Maven using the -X switch to enable full debug logging.
[ERROR] 
[ERROR] For more information about the errors and possible solutions, please read the following articles:
[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException
